(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{2443:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},3361:(e,t,s)=>{"use strict";s.d(t,{D:()=>h,n:()=>g});var r=s(3576),i=s(2701),a=s(7876),n=s(4232);let o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return window.localStorage&&localStorage.getItem(e)||t},l={isAuthenticated:!1,user:null,accessToken:null,selectedArticle:null,searchTerm:"",searchResults:[],isSearching:!1,currentQuiz:null,quizProgress:{currentQuestion:0,answers:[],score:0,isCompleted:!1},quizHistory:[],apiKeys:{gemini:"",googleSearch:""},googleSearchEngineId:"",sidebarOpen:!1,activeTab:"explorer",theme:"light",loading:!1,error:null,success:null,selectedLanguage:"en",showQuizModal:!1,showQuizInterface:!1,generatedQuiz:null},c={SET_AUTH:"SET_AUTH",LOGOUT:"LOGOUT",SET_SELECTED_ARTICLE:"SET_SELECTED_ARTICLE",SET_SEARCH_TERM:"SET_SEARCH_TERM",SET_SEARCH_RESULTS:"SET_SEARCH_RESULTS",SET_SEARCHING:"SET_SEARCHING",ADD_QUIZ_HISTORY:"ADD_QUIZ_HISTORY",SET_API_KEY:"SET_API_KEY",SET_GOOGLE_SEARCH_ENGINE_ID:"SET_GOOGLE_SEARCH_ENGINE_ID",TOGGLE_SIDEBAR:"TOGGLE_SIDEBAR",SET_ACTIVE_TAB:"SET_ACTIVE_TAB",SET_ERROR:"SET_ERROR",SET_SUCCESS:"SET_SUCCESS",CLEAR_MESSAGES:"CLEAR_MESSAGES",SET_SELECTED_LANGUAGE:"SET_SELECTED_LANGUAGE",SHOW_QUIZ_MODAL:"SHOW_QUIZ_MODAL",HIDE_QUIZ_MODAL:"HIDE_QUIZ_MODAL",SHOW_QUIZ_INTERFACE:"SHOW_QUIZ_INTERFACE",HIDE_QUIZ_INTERFACE:"HIDE_QUIZ_INTERFACE",SET_GENERATED_QUIZ:"SET_GENERATED_QUIZ"};function d(e,t){switch(t.type){case c.SET_AUTH:return(0,i._)((0,r._)({},e),{isAuthenticated:!0,user:t.payload.user,accessToken:t.payload.accessToken});case c.LOGOUT:return localStorage.removeItem("accessToken"),(0,i._)((0,r._)({},e),{isAuthenticated:!1,user:null,accessToken:null,selectedArticle:null,searchResults:[]});case c.SET_SELECTED_ARTICLE:return(0,i._)((0,r._)({},e),{selectedArticle:t.payload});case c.SET_SEARCH_TERM:return(0,i._)((0,r._)({},e),{searchTerm:t.payload});case c.SET_SEARCH_RESULTS:return(0,i._)((0,r._)({},e),{searchResults:t.payload});case c.SET_SEARCHING:return(0,i._)((0,r._)({},e),{isSearching:t.payload});case c.ADD_QUIZ_HISTORY:return(0,i._)((0,r._)({},e),{quizHistory:[...e.quizHistory||[],t.payload]});case c.SET_API_KEY:let s=(0,i._)((0,r._)({},e.apiKeys),{[t.payload.type]:t.payload.key});return window.localStorage&&localStorage.setItem("".concat(t.payload.type,"ApiKey"),t.payload.key),(0,i._)((0,r._)({},e),{apiKeys:s});case c.SET_GOOGLE_SEARCH_ENGINE_ID:return window.localStorage&&localStorage.setItem("googleSearchEngineId",t.payload),(0,i._)((0,r._)({},e),{googleSearchEngineId:t.payload});case c.TOGGLE_SIDEBAR:return(0,i._)((0,r._)({},e),{sidebarOpen:!e.sidebarOpen});case c.SET_ACTIVE_TAB:return(0,i._)((0,r._)({},e),{activeTab:t.payload});case c.SET_ERROR:return(0,i._)((0,r._)({},e),{error:t.payload,loading:!1});case c.SET_SUCCESS:return(0,i._)((0,r._)({},e),{success:t.payload,loading:!1});case c.CLEAR_MESSAGES:return(0,i._)((0,r._)({},e),{error:null,success:null});case c.SET_SELECTED_LANGUAGE:return(0,i._)((0,r._)({},e),{selectedLanguage:t.payload});case c.SHOW_QUIZ_MODAL:return(0,i._)((0,r._)({},e),{showQuizModal:!0});case c.HIDE_QUIZ_MODAL:return(0,i._)((0,r._)({},e),{showQuizModal:!1});case c.SHOW_QUIZ_INTERFACE:return(0,i._)((0,r._)({},e),{showQuizInterface:!0,showQuizModal:!1});case c.HIDE_QUIZ_INTERFACE:return(0,i._)((0,r._)({},e),{showQuizInterface:!1,generatedQuiz:null});case c.SET_GENERATED_QUIZ:return(0,i._)((0,r._)({},e),{generatedQuiz:t.payload});default:return e}}let u=(0,n.createContext)();function h(e){let{children:t}=e,[s,r]=(0,n.useReducer)(d,l);return(0,n.useEffect)(()=>{let e=o("geminiApiKey");e&&r({type:c.SET_API_KEY,payload:{type:"gemini",key:e}});let t=o("googleSearchApiKey");t&&r({type:c.SET_API_KEY,payload:{type:"googleSearch",key:t}});let s=o("googleSearchEngineId");s&&r({type:c.SET_GOOGLE_SEARCH_ENGINE_ID,payload:s});let i=o("selectedLanguage","en");r({type:c.SET_SELECTED_LANGUAGE,payload:i});let a=o("accessToken"),n=o("userEmail");a&&r({type:c.SET_AUTH,payload:{user:{email:n||""},accessToken:a}})},[]),(0,n.useEffect)(()=>{if(s.error||s.success){let e=setTimeout(()=>{r({type:c.CLEAR_MESSAGES})},5e3);return()=>clearTimeout(e)}},[s.error,s.success]),(0,a.jsx)(u.Provider,{value:{state:s,dispatch:r,ActionTypes:c},children:t})}function g(){let e=(0,n.useContext)(u);if(!e)throw Error("useApp must be used within an AppProvider");return e}},6556:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return s(9386)}])},7328:(e,t,s)=>{e.exports=s(9836)},7790:()=>{},9386:(e,t,s)=>{"use strict";let r;s.r(t),s.d(t,{default:()=>sR});var i,a,n,o,l,c,d,u,h,g,p,m,x=s(3576),f=s(7876),y=s(3361),v=s(4232),b=s(2443),w=s.n(b),S=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;Object.create(null);let j=(e,t,s,r)=>{let i=[s,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,"warn","react-i18next::",!0);L(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)},E={},k=(e,t,s,r)=>{L(s)&&E[s]||(L(s)&&(E[s]=new Date),j(e,t,s,r))},N=(e,t)=>()=>{if(e.isInitialized)t();else{let s=()=>{setTimeout(()=>{e.off("initialized",s)},0),t()};e.on("initialized",s)}},C=(e,t,s)=>{e.loadNamespaces(t,N(e,s))},A=(e,t,s,r)=>{if(L(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(t)>-1)return C(e,s,r);s.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,N(e,r))},I=(e,t,s={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:s.lng,precheck:(t,r)=>{if(s.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):(k(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0),L=e=>"string"==typeof e,T=e=>"object"==typeof e&&null!==e,O=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,R={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},z=e=>R[e],P={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(O,z)},_=(e={})=>{P={...P,...e}},q=()=>P,M=(e,t)=>{if(!e)return!1;let s=e.props?.children??e.children;return t?s.length>0:!!s},D=e=>{if(!e)return[];let t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?G(t):t},H=e=>Array.isArray(e)&&e.every(isValidElement),G=e=>Array.isArray(e)?e:[e],K=(e,t)=>{let s={...t};return s.props=Object.assign(e.props,t.props),s},F=(e,t,s)=>{let r=e.key||t,i=cloneElement(e,{key:r});return!i.props||!i.props.children||0>s.indexOf(`${t}/>`)&&0>s.indexOf(`${t} />`)?i:createElement(function(){return createElement(Fragment,null,i)},{key:r})},U=(e,t)=>e.map((e,s)=>F(e,s,t)),$=(e,t)=>{let s={};return Object.keys(e).forEach(r=>{Object.assign(s,{[r]:F(e[r],r,t)})}),s},Q=e=>{r=e},B=()=>r,V=(0,v.createContext)();class W{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}let Y=(e,t)=>{let s=(0,v.useRef)();return(0,v.useEffect)(()=>{s.current=t?s.current:e},[e,t]),s.current},J=(e,t,s,r)=>e.getFixedT(t,s,r),Z=(e,t,s,r)=>(0,v.useCallback)(J(e,t,s,r),[e,t,s,r]),X=(e,t={})=>{let{i18n:s}=t,{i18n:r,defaultNS:i}=(0,v.useContext)(V)||{},a=s||r||B();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new W),!a){k(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>L(t)?t:T(t)&&L(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&k(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let n={...q(),...a.options.react,...t},{useSuspense:o,keyPrefix:l}=n,c=e||i||a.options?.defaultNS;c=L(c)?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces?.(c);let d=(a.isInitialized||a.initializedStoreOnce)&&c.every(e=>I(e,a,n)),u=Z(a,t.lng||null,"fallback"===n.nsMode?c:c[0],l),h=()=>u,g=()=>J(a,t.lng||null,"fallback"===n.nsMode?c:c[0],l),[p,m]=(0,v.useState)(h),x=c.join();t.lng&&(x=`${t.lng}${x}`);let f=Y(x),y=(0,v.useRef)(!0);(0,v.useEffect)(()=>{let{bindI18n:e,bindI18nStore:s}=n;y.current=!0,d||o||(t.lng?A(a,t.lng,c,()=>{y.current&&m(g)}):C(a,c,()=>{y.current&&m(g)})),d&&f&&f!==x&&y.current&&m(g);let r=()=>{y.current&&m(g)};return e&&a?.on(e,r),s&&a?.store.on(s,r),()=>{y.current=!1,a&&e?.split(" ").forEach(e=>a.off(e,r)),s&&a&&s.split(" ").forEach(e=>a.store.off(e,r))}},[a,x]),(0,v.useEffect)(()=>{y.current&&d&&m(h)},[a,l,d]);let b=[p,a,d];if(b.t=p,b.i18n=a,b.ready=d,d||!d&&!o)return b;throw new Promise(e=>{t.lng?A(a,t.lng,c,()=>e()):C(a,c,()=>e())})};!function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"}(i||(i={})),function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"}(a||(a={})),function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"}(n||(n={}));let ee=["user","model","function","system"];!function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(o||(o={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(l||(l={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(c||(c={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"}(d||(d={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"}(u||(u={})),function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"}(h||(h={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(g||(g={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(p||(p={}));class et extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class es extends et{constructor(e,t){super(e),this.response=t}}class er extends et{constructor(e,t,s,r){super(e),this.status=t,this.statusText=s,this.errorDetails=r}}class ei extends et{}class ea extends et{}!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(m||(m={}));class en{constructor(e,t,s,r,i){this.model=e,this.task=t,this.apiKey=s,this.stream=r,this.requestOptions=i}toString(){var e,t;let s=(null==(e=this.requestOptions)?void 0:e.apiVersion)||"v1beta",r=(null==(t=this.requestOptions)?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com",i=`${r}/${s}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}async function eo(e){var t;let s=new Headers;s.append("Content-Type","application/json"),s.append("x-goog-api-client",function(e){let t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push("genai-js/0.24.1"),t.join(" ")}(e.requestOptions)),s.append("x-goog-api-key",e.apiKey);let r=null==(t=e.requestOptions)?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(e){throw new ei(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${e.message}`)}for(let[e,t]of r.entries()){if("x-goog-api-key"===e)throw new ei(`Cannot set reserved header name ${e}`);if("x-goog-api-client"===e)throw new ei(`Header name ${e} can only be set using the apiClient field`);s.append(e,t)}}return s}async function el(e,t,s,r,i,a){let n=new en(e,t,s,r,a);return{url:n.toString(),fetchOptions:Object.assign(Object.assign({},function(e){let t={};if((null==e?void 0:e.signal)!==void 0||(null==e?void 0:e.timeout)>=0){let s=new AbortController;(null==e?void 0:e.timeout)>=0&&setTimeout(()=>s.abort(),e.timeout),(null==e?void 0:e.signal)&&e.signal.addEventListener("abort",()=>{s.abort()}),t.signal=s.signal}return t}(a)),{method:"POST",headers:await eo(n),body:i})}}async function ec(e,t,s,r,i,a={},n=fetch){let{url:o,fetchOptions:l}=await el(e,t,s,r,i,a);return ed(o,l,n)}async function ed(e,t,s=fetch){let r;try{r=await s(e,t)}catch(s){var i=s,a=e;let t=i;throw"AbortError"===t.name?(t=new ea(`Request aborted when fetching ${a.toString()}: ${i.message}`)).stack=i.stack:i instanceof er||i instanceof ei||((t=new et(`Error fetching from ${a.toString()}: ${i.message}`)).stack=i.stack),t}return r.ok||await eu(r,e),r}async function eu(e,t){let s,r="";try{let t=await e.json();r=t.error.message,t.error.details&&(r+=` ${JSON.stringify(t.error.details)}`,s=t.error.details)}catch(e){}throw new er(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${r}`,e.status,e.statusText,s)}function eh(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),em(e.candidates[0]))throw new es(`${ex(e)}`,e);return function(e){var t,s,r,i;let a=[];if(null==(s=null==(t=e.candidates)?void 0:t[0].content)?void 0:s.parts)for(let t of null==(i=null==(r=e.candidates)?void 0:r[0].content)?void 0:i.parts)t.text&&a.push(t.text),t.executableCode&&a.push("\n```"+t.executableCode.language+"\n"+t.executableCode.code+"\n```\n"),t.codeExecutionResult&&a.push("\n```\n"+t.codeExecutionResult.output+"\n```\n");return a.length>0?a.join(""):""}(e)}if(e.promptFeedback)throw new es(`Text not available. ${ex(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),em(e.candidates[0]))throw new es(`${ex(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),eg(e)[0]}if(e.promptFeedback)throw new es(`Function call not available. ${ex(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),em(e.candidates[0]))throw new es(`${ex(e)}`,e);return eg(e)}if(e.promptFeedback)throw new es(`Function call not available. ${ex(e)}`,e)},e}function eg(e){var t,s,r,i;let a=[];if(null==(s=null==(t=e.candidates)?void 0:t[0].content)?void 0:s.parts)for(let t of null==(i=null==(r=e.candidates)?void 0:r[0].content)?void 0:i.parts)t.functionCall&&a.push(t.functionCall);return a.length>0?a:void 0}let ep=[u.RECITATION,u.SAFETY,u.LANGUAGE];function em(e){return!!e.finishReason&&ep.includes(e.finishReason)}function ex(e){var t,s,r;let i="";if((!e.candidates||0===e.candidates.length)&&e.promptFeedback)i+="Response was blocked",(null==(t=e.promptFeedback)?void 0:t.blockReason)&&(i+=` due to ${e.promptFeedback.blockReason}`),(null==(s=e.promptFeedback)?void 0:s.blockReasonMessage)&&(i+=`: ${e.promptFeedback.blockReasonMessage}`);else if(null==(r=e.candidates)?void 0:r[0]){let t=e.candidates[0];em(t)&&(i+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(i+=`: ${t.finishMessage}`))}return i}function ef(e){return this instanceof ef?(this.v=e,this):new ef(e)}"function"==typeof SuppressedError&&SuppressedError;let ey=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function ev(e){let t=[],s=e.getReader();for(;;){let{done:e,value:r}=await s.read();if(e)return eh(function(e){let t=e[e.length-1],s={promptFeedback:null==t?void 0:t.promptFeedback};for(let t of e){if(t.candidates){let e=0;for(let r of t.candidates)if(s.candidates||(s.candidates=[]),s.candidates[e]||(s.candidates[e]={index:e}),s.candidates[e].citationMetadata=r.citationMetadata,s.candidates[e].groundingMetadata=r.groundingMetadata,s.candidates[e].finishReason=r.finishReason,s.candidates[e].finishMessage=r.finishMessage,s.candidates[e].safetyRatings=r.safetyRatings,r.content&&r.content.parts){s.candidates[e].content||(s.candidates[e].content={role:r.content.role||"user",parts:[]});let t={};for(let i of r.content.parts)i.text&&(t.text=i.text),i.functionCall&&(t.functionCall=i.functionCall),i.executableCode&&(t.executableCode=i.executableCode),i.codeExecutionResult&&(t.codeExecutionResult=i.codeExecutionResult),0===Object.keys(t).length&&(t.text=""),s.candidates[e].content.parts.push(t)}e++}t.usageMetadata&&(s.usageMetadata=t.usageMetadata)}return s}(t));t.push(r)}}async function eb(e,t,s,r){let[i,a]=(function(e){let t=e.getReader();return new ReadableStream({start(e){let s="";return function r(){return t.read().then(({value:t,done:i})=>{let a;if(i)return s.trim()?void e.error(new et("Failed to parse stream")):void e.close();let n=(s+=t).match(ey);for(;n;){try{a=JSON.parse(n[1])}catch(t){e.error(new et(`Error parsing JSON response: "${n[1]}"`));return}e.enqueue(a),n=(s=s.substring(n[0].length)).match(ey)}return r()}).catch(e=>{let t=e;throw t.stack=e.stack,t="AbortError"===t.name?new ea("Request aborted when reading from the stream"):new et("Error reading from the stream")})}()}})})((await ec(t,m.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(s),r)).body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))).tee();return{stream:function(e){return function(e,t,s){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,i=s.apply(e,t||[]),a=[];return r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r;function n(e){i[e]&&(r[e]=function(t){return new Promise(function(s,r){a.push([e,t,s,r])>1||o(e,t)})})}function o(e,t){try{var s;(s=i[e](t)).value instanceof ef?Promise.resolve(s.value.v).then(l,c):d(a[0][2],s)}catch(e){d(a[0][3],e)}}function l(e){o("next",e)}function c(e){o("throw",e)}function d(e,t){e(t),a.shift(),a.length&&o(a[0][0],a[0][1])}}(this,arguments,function*(){let t=e.getReader();for(;;){let{value:e,done:s}=yield ef(t.read());if(s)break;yield yield ef(eh(e))}})}(i),response:ev(a)}}async function ew(e,t,s,r){let i=await ec(t,m.GENERATE_CONTENT,e,!1,JSON.stringify(s),r);return{response:eh(await i.json())}}function eS(e){if(null!=e){if("string"==typeof e)return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)if(!e.role)return{role:"system",parts:e.parts};else return e}}function ej(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(let s of e)"string"==typeof s?t.push({text:s}):t.push(s);var s=t;let r={role:"user",parts:[]},i={role:"function",parts:[]},a=!1,n=!1;for(let e of s)"functionResponse"in e?(i.parts.push(e),n=!0):(r.parts.push(e),a=!0);if(a&&n)throw new et("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!a&&!n)throw new et("No content is provided for sending chat message.");return a?r:i}function eE(e){let t;return t=e.contents?e:{contents:[ej(e)]},e.systemInstruction&&(t.systemInstruction=eS(e.systemInstruction)),t}let ek=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],eN={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function eC(e){var t;if(void 0===e.candidates||0===e.candidates.length)return!1;let s=null==(t=e.candidates[0])?void 0:t.content;if(void 0===s||void 0===s.parts||0===s.parts.length)return!1;for(let e of s.parts)if(void 0===e||0===Object.keys(e).length||void 0!==e.text&&""===e.text)return!1;return!0}let eA="SILENT_ERROR";class eI{constructor(e,t,s,r={}){this.model=t,this.params=s,this._requestOptions=r,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==s?void 0:s.history)&&(!function(e){let t=!1;for(let s of e){let{role:e,parts:r}=s;if(!t&&"user"!==e)throw new et(`First content should be with role 'user', got ${e}`);if(!ee.includes(e))throw new et(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(ee)}`);if(!Array.isArray(r))throw new et("Content should have 'parts' property with an array of Parts");if(0===r.length)throw new et("Each Content should have at least one part");let i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(let e of r)for(let t of ek)t in e&&(i[t]+=1);let a=eN[e];for(let t of ek)if(!a.includes(t)&&i[t]>0)throw new et(`Content with role '${e}' can't contain '${t}' part`);t=!0}}(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var s,r,i,a,n,o;let l;await this._sendPromise;let c=ej(e),d={safetySettings:null==(s=this.params)?void 0:s.safetySettings,generationConfig:null==(r=this.params)?void 0:r.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(n=this.params)?void 0:n.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,c]},u=Object.assign(Object.assign({},this._requestOptions),t);return this._sendPromise=this._sendPromise.then(()=>ew(this._apiKey,this.model,d,u)).then(e=>{var t;if(eC(e.response)){this._history.push(c);let s=Object.assign({parts:[],role:"model"},null==(t=e.response.candidates)?void 0:t[0].content);this._history.push(s)}else{let t=ex(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e}).catch(e=>{throw this._sendPromise=Promise.resolve(),e}),await this._sendPromise,l}async sendMessageStream(e,t={}){var s,r,i,a,n,o;await this._sendPromise;let l=ej(e),c={safetySettings:null==(s=this.params)?void 0:s.safetySettings,generationConfig:null==(r=this.params)?void 0:r.generationConfig,tools:null==(i=this.params)?void 0:i.tools,toolConfig:null==(a=this.params)?void 0:a.toolConfig,systemInstruction:null==(n=this.params)?void 0:n.systemInstruction,cachedContent:null==(o=this.params)?void 0:o.cachedContent,contents:[...this._history,l]},d=Object.assign(Object.assign({},this._requestOptions),t),u=eb(this._apiKey,this.model,c,d);return this._sendPromise=this._sendPromise.then(()=>u).catch(e=>{throw Error(eA)}).then(e=>e.response).then(e=>{if(eC(e)){this._history.push(l);let t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{let t=ex(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}}).catch(e=>{e.message!==eA&&console.error(e)}),u}}async function eL(e,t,s,r){return(await ec(t,m.COUNT_TOKENS,e,!1,JSON.stringify(s),r)).json()}async function eT(e,t,s,r){return(await ec(t,m.EMBED_CONTENT,e,!1,JSON.stringify(s),r)).json()}async function eO(e,t,s,r){let i=s.requests.map(e=>Object.assign(Object.assign({},e),{model:t}));return(await ec(t,m.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:i}),r)).json()}class eR{constructor(e,t,s={}){this.apiKey=e,this._requestOptions=s,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=eS(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var s;let r=eE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return ew(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(s=this.cachedContent)?void 0:s.name},r),i)}async generateContentStream(e,t={}){var s;let r=eE(e),i=Object.assign(Object.assign({},this._requestOptions),t);return eb(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(s=this.cachedContent)?void 0:s.name},r),i)}startChat(e){var t;return new eI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:null==(t=this.cachedContent)?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){let s=function(e,t){var s;let r={model:null==t?void 0:t.model,generationConfig:null==t?void 0:t.generationConfig,safetySettings:null==t?void 0:t.safetySettings,tools:null==t?void 0:t.tools,toolConfig:null==t?void 0:t.toolConfig,systemInstruction:null==t?void 0:t.systemInstruction,cachedContent:null==(s=null==t?void 0:t.cachedContent)?void 0:s.name,contents:[]},i=null!=e.generateContentRequest;if(e.contents){if(i)throw new ei("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(i)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{let t=ej(e);r.contents=[t]}return{generateContentRequest:r}}(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),r=Object.assign(Object.assign({},this._requestOptions),t);return eL(this.apiKey,this.model,s,r)}async embedContent(e,t={}){let s="string"==typeof e||Array.isArray(e)?{content:ej(e)}:e,r=Object.assign(Object.assign({},this._requestOptions),t);return eT(this.apiKey,this.model,s,r)}async batchEmbedContents(e,t={}){let s=Object.assign(Object.assign({},this._requestOptions),t);return eO(this.apiKey,this.model,e,s)}}class ez{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new et("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new eR(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,s){if(!e.name)throw new ei("Cached content must contain a `name` field.");if(!e.model)throw new ei("Cached content must contain a `model` field.");for(let s of["model","systemInstruction"])if((null==t?void 0:t[s])&&e[s]&&(null==t?void 0:t[s])!==e[s]){if("model"===s&&(t.model.startsWith("models/")?t.model.replace("models/",""):t.model)===(e.model.startsWith("models/")?e.model.replace("models/",""):e.model))continue;throw new ei(`Different value for "${s}" specified in modelParams (${t[s]}) and cachedContent (${e[s]})`)}let r=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new eR(this.apiKey,r,s)}}let eP={IDENTITY_BASE_URL:"https://identity.api.bg.cluster.vecto.digital/api",INDEXING_BASE_URL:"https://indexing.api.bg.cluster.vecto.digital/api"},e_={hy:{easy:"Հեշտ",medium:"Միջին",hard:"Բարդ"},hyw:{easy:"Հեշտ",medium:"Միջին",hard:"Բարդ"},en:{easy:"Easy",medium:"Medium",hard:"Hard"},ru:{easy:"Легкий",medium:"Средний",hard:"Сложный"}},eq={hy:{instructions:'Ստեղծեք մեկ ընտրանքով համապարփակ թեստ հայերեն, ֆորմատավորված որպես JSON օբյեկտ ստորև տրված OpenAPI սխեմայով: Արտահանեք մաքուր JSON տրված HTML հոդվածից: Հոդվածը գրված է հայերեն և փակված է <article> էթիքի մեջ id ատրիբուտով: Հանեք հոդվածի ID-ն article էթիքի id ատրիբուտից և օգտագործեք այն articleIds դաշտում յուրաքանչյուր հարցի համար: Առաջնահերթություն տվեք առավելագույն թվով համապատասխան և բազմազան հարցեր գեներացնելուն: Օգտագործեք հայկական բարդության մակարդակները: "Հեշտ" - հեշտ հարցերի համար, "Միջին" - միջին հարցերի համար, "Բարդ" - բարդ հարցերի համար:',language:"հայերեն"},hyw:{instructions:'Ստեղծէք մէկ ընտրանքով համապարփակ թեստ արեւմտահայերէն, ֆորմատաւորուած որպէս JSON օբյեկտ ստորեւ տրուած OpenAPI սխեմայով: Արտահանեցէք մաքուր JSON տրուած HTML հոդուածէն: Հոդուածը գրուած է արեւմտահայերէն եւ փակված է <article> էթիքի մէջ id ատրիպուտով: Հանեցէք հոդուածի ID-ն article էթիքի id ատրիպուտէն եւ օգտագործեցէք զայն articleIds դաշտում իւրաքանչիւր հարցի համար: Առաջնահերթութիւն տուէք առաւելագոյն թուով համապատասխան եւ բազմազան հարցեր գեներացնելուն: Օգտագործեցէք հայկական բարդութեան մակարդակները: "Հեշտ" - հեշտ հարցերի համար, "Միջին" - միջին հարցերի համար, "Բարդ" - բարդ հարցերի համար:',language:"արեւմտահայերէն"},en:{instructions:'Generate a comprehensive single-choice quiz in English, formatted as a JSON object with the OpenAPI schema provided below. Output clean JSON from the provided HTML article. The article is enclosed within an <article> tag with an id attribute. Extract the article ID from the article tag\'s id attribute and use it in the articleIds field for each question. Prioritize generating a large number of relevant and diverse questions. Use English difficulty levels: "Easy" for easy questions, "Medium" for medium questions, and "Hard" for hard questions.',language:"English"},ru:{instructions:'Создайте комплексный тест с одним вариантом ответа на русском языке, отформатированный как JSON-объект с предоставленной ниже схемой OpenAPI. Выведите чистый JSON из предоставленной HTML-статьи. Статья заключена в тег <article> с атрибутом id. Извлеките ID статьи из атрибута id тега article и используйте его в поле articleIds для каждого вопроса. Приоритет отдавайте генерации максимального количества релевантных и разнообразных вопросов. Используйте русские уровни сложности: "Легкий" для легких вопросов, "Средний" для средних вопросов и "Сложный" для сложных вопросов.',language:"русском языке"}},eM={ARMENIAN_COMPREHENSIVE:{instructions:"Generate a comprehensive single-choice quiz in Armenian, formatted as a JSON object with OpenAPI scheme provided below. Output clean JSON from the provided HTML article provided below. The article is written in Armenian and enclosed within an <article> tag with an id attribute. Extract the article ID from the article tag and use it in the articleIds field for each question. Prioritize generating a large number of relevant and diverse questions.",temperature:.7,model:"gemini-2.5-flash-preview-05-20"},ENGLISH_BASIC:{instructions:"Create a basic multiple-choice quiz in English based on the provided article content. The article content is enclosed within an <article> tag with an id attribute. Extract the article ID from the article tag and use it in the articleIds field for each question. Focus on key facts and main concepts.",temperature:.5,model:"gemini-2.5-flash-preview-05-20"}},eD={hy:{promptTemplate:(e,t)=>"Հոդվածի ամբողջական տեքստը հետևյալն է՝\n---\n".concat(t,"\n---\nՀաշվի առնելով վերոնշյալ հոդվածի համատեքստը, խնդրում եմ բացատրիր \xab").concat(e,"\xbb տերմինը կամ արտահայտությունը հայերենով։ Տուր հակիրճ և հասկանալի բացատրություն։ Պատասխանը ֆորմատավորիր **միայն որպես HTML**։ **Մի՛ ներառիր որևէ նախաբան կամ վերջաբան, այլ միայն բացատրությունը։ Մի՛ օգտագործիր markdown:** Օգտագործիր <strong> թեգը թավատառի համար, <em> թեգը շեղատառի համար, և <br> թեգը տողադարձերի համար։"),language:"հայերենով",getCleanupPhrases:e=>["Ահա \xab".concat(e,"\xbb տերմինի բացատրությունը HTML ֆորմատով."),"Ահա \xab".concat(e,"\xbb տերմինի բացատրությունը."),"Սա \xab".concat(e,"\xbb տերմինի բացատրությունն է HTML ֆորմատով."),"Սա \xab".concat(e,"\xbb տերմինի բացատրությունն է.")]},hyw:{promptTemplate:(e,t)=>"Հոդուածի ամբողջական տեքստը հետեւեալն է՝\n---\n".concat(t,"\n---\nՀաշուի առնելով վերոնշեալ հոդուածի համատեքստը, խնդրում եմ բացատրիր \xab").concat(e,"\xbb տերմինը կամ արտահայտութիւնը արեւմտահայերէն։ Տուր հակիրճ եւ հասկանալի բացատրութիւն։ Պատասխանը ֆորմատաւորիր **միայն որպէս HTML**։ **Մի՛ ներառիր որեւէ նախապան կամ վերջապան, այլ միայն բացատրութիւնը։ Մի՛ օգտագործիր markdown:** Օգտագործիր <strong> թեգը թաւատառի համար, <em> թեգը շեղատառի համար, եւ <br> թեգը տողադարձերի համար։"),language:"արեւմտահայերէն",getCleanupPhrases:e=>["Ահա \xab".concat(e,"\xbb տերմինի բացատրութիւնը HTML ֆորմատով."),"Ահա \xab".concat(e,"\xbb տերմինի բացատրութիւնը."),"Սա \xab".concat(e,"\xbb տերմինի բացատրութիւնն է HTML ֆորմատով."),"Սա \xab".concat(e,"\xbb տերմինի բացատրութիւնն է.")]},en:{promptTemplate:(e,t)=>"The complete article text is as follows:\n---\n".concat(t,'\n---\nTaking into account the context of the above article, please explain the term or expression "').concat(e,'" in English. Provide a concise and understandable explanation. Format the response **only as HTML**. **Do not include any introduction or conclusion, only the explanation. Do not use markdown:** Use <strong> tag for bold, <em> tag for italic, and <br> tag for line breaks.'),language:"in English",getCleanupPhrases:e=>['Here is the explanation of the term "'.concat(e,'" in HTML format.'),'Here is the explanation of the term "'.concat(e,'".'),'This is the explanation of the term "'.concat(e,'" in HTML format.'),'This is the explanation of the term "'.concat(e,'".')]},ru:{promptTemplate:(e,t)=>"Полный текст статьи следующий:\n---\n".concat(t,'\n---\nУчитывая контекст вышеуказанной статьи, пожалуйста, объясните термин или выражение "').concat(e,'" на русском языке. Дайте краткое и понятное объяснение. Отформатируйте ответ **только как HTML**. **Не включайте никакого введения или заключения, только объяснение. Не используйте markdown:** Используйте тег <strong> для жирного шрифта, тег <em> для курсива и тег <br> для переносов строк.'),language:"на русском языке",getCleanupPhrases:e=>['Вот объяснение термина "'.concat(e,'" в формате HTML.'),'Вот объяснение термина "'.concat(e,'".'),'Это объяснение термина "'.concat(e,'" в формате HTML.'),'Это объяснение термина "'.concat(e,'".')]}},eH={hy:{apiKeyRequired:"Gemini API բանալին տրամադրված չէ։",explanationFailed:"Բացատրությունը բերելիս սխալ տեղի ունեցավ։"},hyw:{apiKeyRequired:"Gemini API բանալին տրամադրուած չէ։",explanationFailed:"Բացատրութիւնը բերելիս սխալ տեղի ունեցաւ։"},en:{apiKeyRequired:"Gemini API key is not provided.",explanationFailed:"An error occurred while fetching the explanation."},ru:{apiKeyRequired:"Ключ API Gemini не предоставлен.",explanationFailed:"Произошла ошибка при получении объяснения."}},eG=[{id:"gemini-2.5-pro-preview-05-06",name:"Gemini 2.5 Pro Preview 05-06",description:"Most capable model"},{id:"gemini-2.5-flash-preview-05-20",name:"Gemini 2.5 Flash Preview 05-20",description:"Enhanced flash model"},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"Fast and efficient model"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",description:"Lightweight model"}],eK=eq.hy.instructions,eF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"hy";return{type:"object",properties:{title:{type:"string",description:"Quiz title"},questions:{type:"array",items:{type:"object",properties:{question:{type:"string",description:"The quiz question"},options:{type:"array",items:{type:"string"},minItems:2,maxItems:4,description:"Array of answer options"},answer:{type:"integer",minimum:0,maximum:3,description:"Index of the correct answer (0-based)"},difficulty:{type:"string",enum:Object.values(e_[e]||e_.hy),description:"Question difficulty level"},explanation:{type:"string",description:"Optional explanation for the answer"},articleIds:{type:"array",items:{type:"string"},description:"IDs of articles this question relates to"}},required:["question","options","answer","difficulty"],additionalProperties:!1},minItems:1,description:"Array of quiz questions"}},required:["questions"],additionalProperties:!1}};class eU{initializeAPI(e){if(!e||""===e.trim())throw Error("API Key cannot be empty.");try{return this.genAI=new ez(e),!0}catch(e){throw console.error("SDK Initialization Error:",e),Error("Failed to initialize Gemini API SDK.")}}async generateQuiz(e){let{instructions:t,articleContent:s,model:r="gemini-2.5-flash-preview-05-20",temperature:i=.7,targetLanguage:a="en"}=e;if(!this.genAI)throw Error("Gemini API not initialized. Please save a valid API key first.");if(!t||!s)throw Error("Please ensure all fields (instructions and article content) are filled.");if("string"!=typeof s)throw Error("Article content must be a valid HTML string.");if(s.includes("[object Object]"))throw Error("Article content is not properly formatted. Please try selecting a different article.");let n=eq[a]||eq.hy,o=eF(a),l=t===eK?n.instructions:"".concat(t,"\n\nGenerate the quiz in ").concat(n.language,"."),c="".concat(l,"\n\nOpenAPI JSON scheme\n---\n").concat(JSON.stringify(o,null,2),"\n\nHTML article\n---\n").concat(s);try{let e=this.genAI.getGenerativeModel({model:r}),t=await e.generateContent({contents:[{role:"user",parts:[{text:c}]}],generationConfig:{temperature:i}}),s=(await t.response).text();if(!s)throw Error("No response generated from Gemini API.");let a=s.trim();if(a.toLowerCase().includes("i am sorry")||a.toLowerCase().includes("cannot fulfill")||a.includes("[object Object]"))return{success:!1,error:"Հոդվածի բովանդակությունը կարձում չի մշակվել։ Խնդրում ենք ուրիշ հոդված ընտրել կամ կրկին փորձել։",rawResponse:s};a.startsWith("```json\n")?(a=a.substring(7)).endsWith("\n```")?a=a.substring(0,a.length-4):a.endsWith("```")&&(a=a.substring(0,a.length-3)):a.startsWith("```\n")&&((a=a.substring(4)).endsWith("\n```")?a=a.substring(0,a.length-4):a.endsWith("```")&&(a=a.substring(0,a.length-3))),a=a.trim();try{let e=JSON.parse(a);return{success:!0,data:e,rawResponse:s}}catch(e){return console.warn("Generated content was not valid JSON:",e,"Raw content:",a),{success:!1,error:"Ստացված պատասխանը վավեր JSON չէ։ Խնդրում ենք կրկին փորձել։",rawResponse:s}}}catch(t){console.error("Error during quiz generation:",t);let e="Չհաջողվեց ստանալ պատասխան։";return t.message&&(e=t.message.toLowerCase().includes("api")||t.message.toLowerCase().includes("quota")||t.message.toLowerCase().includes("limit")?t.message:"Սխալ: ".concat(t.message)),{success:!1,error:e}}}async explainTerm(e,t,s){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hy";if(!s)throw Error((eH[r]||eH.hy).apiKeyRequired);this.genAI||this.initializeAPI(s);let i=eD[r]||eD.hy,a=i.promptTemplate(e,t);try{let t=this.genAI.getGenerativeModel({model:"gemini-2.5-flash-preview-05-20"}),s=await t.generateContent({contents:[{role:"user",parts:[{text:a}]}],generationConfig:{temperature:.4}}),r=(await s.response).text();if(!r)throw Error("No explanation generated.");for(let t of((r=r.trim()).startsWith("```html")?r=r.substring(7):r.startsWith("```")&&(r=r.substring(3)),r.endsWith("```")&&(r=r.substring(0,r.lastIndexOf("```"))),r=r.trim(),i.getCleanupPhrases?i.getCleanupPhrases(e):[]))if(r.toLowerCase().startsWith(t.toLowerCase())){for(r=r.substring(t.length).trim();r.toLowerCase().startsWith("<br>");)r=r.substring(4).trim();break}return{success:!0,data:r}}catch(t){console.error("Error explaining term:",t);let e=eH[r]||eH.hy;return{success:!1,error:"".concat(e.explanationFailed," (").concat(t.message,")")}}}constructor(){this.genAI=null}}let e$=new eU;class eQ{initializeAPI(e,t){this.apiKey=e,this.searchEngineId=t}async searchImages(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!this.apiKey||!this.searchEngineId){let e=[];throw this.apiKey||e.push("API Key"),this.searchEngineId||e.push("Search Engine ID"),console.error("Google Search API not configured. Missing:",e.join(", ")),Error("Google Search API not configured. Missing: ".concat(e.join(", ")))}for(let i of[{name:"simple",query:e.trim(),params:""},{name:"enhanced",query:this.buildImageSearchQuery(e,t,r),params:"&imgSize=medium"},{name:"minimal",query:e.trim(),params:"&imgSize=large"}])try{let e=encodeURIComponent(i.query),t="https://www.googleapis.com/customsearch/v1?key=".concat(this.apiKey,"&cx=").concat(this.searchEngineId,"&q=").concat(e,"&searchType=image&num=").concat(s,"&safe=active").concat(i.params),r=await fetch(t),a=await r.json();if(!r.ok){console.error("".concat(i.name," API error:"),a.error);continue}if(a.items&&a.items.length>0)return{success:!0,data:a.items.map(e=>{var t,s;return{title:e.title,link:e.link,thumbnailLink:null==(t=e.image)?void 0:t.thumbnailLink,contextLink:null==(s=e.image)?void 0:s.contextLink,displayLink:e.displayLink}})}}catch(e){console.error("".concat(i.name," search failed:"),e);continue}return{success:!1,error:"No images found with any search strategy"}}async searchWeb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.apiKey||!this.searchEngineId){let e=[];throw this.apiKey||e.push("API Key"),this.searchEngineId||e.push("Search Engine ID"),Error("Google Search API not configured. Missing: ".concat(e.join(", ")))}try{var r,i;let a=this.buildWebSearchQuery(e,t),n=encodeURIComponent(a),o="https://www.googleapis.com/customsearch/v1?key=".concat(this.apiKey,"&cx=").concat(this.searchEngineId,"&q=").concat(n,"&num=").concat(s,"&safe=active&lr=lang_").concat(t),l=await fetch(o),c=await l.json();if(!l.ok)throw Error((null==(i=c.error)?void 0:i.message)||"Search failed");return{success:!0,data:(null==(r=c.items)?void 0:r.map(e=>({title:e.title,link:e.link,snippet:e.snippet,displayLink:e.displayLink,formattedUrl:e.formattedUrl})))||[]}}catch(e){return console.error("Google Web search error:",e),{success:!1,error:e.message}}}async searchCitations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(!this.apiKey||!this.searchEngineId){let e=[];throw this.apiKey||e.push("API Key"),this.searchEngineId||e.push("Search Engine ID"),Error("Google Search API not configured. Missing: ".concat(e.join(", ")))}try{var r,i;let a=this.buildCitationSearchQuery(e,t),n=encodeURIComponent(a),o="https://www.googleapis.com/customsearch/v1?key=".concat(this.apiKey,"&cx=").concat(this.searchEngineId,"&q=").concat(n,"&num=").concat(s,"&safe=active&lr=lang_").concat(t),l=await fetch(o),c=await l.json();if(!l.ok)throw Error((null==(i=c.error)?void 0:i.message)||"Search failed");return{success:!0,data:(null==(r=c.items)?void 0:r.map(e=>({title:e.title,link:e.link,snippet:e.snippet,displayLink:e.displayLink,formattedUrl:e.formattedUrl,authors:this.extractAuthors(e.snippet),year:this.extractYear(e.snippet)})))||[]}}catch(e){return console.error("Google Citations search error:",e),{success:!1,error:e.message}}}extractAuthors(e){let t=e.match(/([A-Z][a-z]+ [A-Z][a-z]+(?:,? [A-Z][a-z]+ [A-Z][a-z]+)*)/);return t?t[1]:null}extractYear(e){let t=e.match(/(19|20)\d{2}/);return t?t[0]:null}buildImageSearchQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy";arguments.length>2&&void 0!==arguments[2]&&arguments[2];let s=e.trim(),r=s,i=[];"hy"===t&&i.push("հայերեն");let a=s.toLowerCase();return a.includes("armenia")||a.includes("armenian")?i.push("armenian"):a.includes("history")?i.push("historical"):a.includes("culture")?i.push("cultural"):(a.includes("science")||a.includes("nature"),i.push("educational")),i.length>0&&(r+=" ".concat(i.slice(0,2).join(" "))),r}buildWebSearchQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=e.trim();return"".concat(s," ").concat("hy"===t?"հայերեն":""," ").concat("site:*.edu OR site:*.org OR site:*.gov OR site:wikipedia.org OR site:britannica.com OR site:*.ac.* OR site:educational.com").trim()}buildCitationSearchQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=e.trim();return"".concat('"'.concat(s,'"')," ").concat("hy"===t?"հայերեն":""," ").concat("site:*.edu OR site:scholar.google.com OR site:jstor.org OR site:*.ac.* OR site:researchgate.net OR site:academia.edu OR site:arxiv.org OR site:pubmed.ncbi.nlm.nih.gov").trim()}buildContextualQuery(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";arguments.length>2&&void 0!==arguments[2]&&arguments[2];let s=e.trim(),r=this.extractContextKeywords(t,s),i=s;return r.length>0&&(i+=" ".concat(r.slice(0,2).join(" "))),i}extractContextKeywords(e,t){if(!e||e.length<50)return[];let s=e.toLowerCase().indexOf(t.toLowerCase());if(-1===s)return[];let r=Math.max(0,s-200),i=Math.min(e.length,s+t.length+200),a=e.substring(r,i),n=new Set(["the","and","or","but","in","on","at","to","for","of","with","by","was","were","is","are","have","has","had","will","would","could","this","that","these","those","they","them","their","there","then","also","very","just","even","more","most","some","any","all","each"]),o=a.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(e=>e.length>3&&!n.has(e)&&e!==t.toLowerCase()),l={};return o.forEach(e=>{l[e]=(l[e]||0)+1}),Object.entries(l).sort((e,t)=>{let[,s]=e,[,r]=t;return r-s}).slice(0,3).map(e=>{let[t]=e;return t})}async searchAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hy",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let[r,i,a]=await Promise.allSettled([this.searchImages(e,t,3,s),this.searchWeb(e,t,3),this.searchCitations(e,t,2)]);return{success:!0,data:{images:"fulfilled"===r.status&&r.value.success?r.value.data:[],webLinks:"fulfilled"===i.status&&i.value.success?i.value.data:[],citations:"fulfilled"===a.status&&a.value.success?a.value.data:[]},searchMetadata:{query:e,language:t,timestamp:new Date().toISOString(),resultsCount:{images:"fulfilled"===r.status&&r.value.success?r.value.data.length:0,webLinks:"fulfilled"===i.status&&i.value.success?i.value.data.length:0,citations:"fulfilled"===a.status&&a.value.success?a.value.data.length:0}}}}catch(e){return console.error("Combined search error:",e),{success:!1,error:e.message}}}constructor(){this.apiKey=null,this.searchEngineId=null}}let eB=new eQ,eV=function(e){let{isOpen:t,onClose:s}=e,{t:r}=X(),{state:i,dispatch:a,ActionTypes:n}=(0,y.n)(),[o,l]=(0,v.useState)("gemini"),[c,d]=(0,v.useState)(i.apiKeys.gemini||""),[u,h]=(0,v.useState)(i.apiKeys.googleSearch||""),[g,p]=(0,v.useState)(i.googleSearchEngineId||""),[m,x]=(0,v.useState)(!1);if(!t)return null;let b=async()=>"gemini"===o?w():S(),w=async()=>{if(!c.trim())return void a({type:n.SET_ERROR,payload:r("apiKey.required")});x(!0);try{e$.initializeAPI(c.trim()),a({type:n.SET_API_KEY,payload:{type:"gemini",key:c.trim()}}),a({type:n.SET_SUCCESS,payload:r("apiKey.successMessage")}),s()}catch(e){a({type:n.SET_ERROR,payload:r("apiKey.errorMessage",{error:e.message})})}finally{x(!1)}},S=async()=>{if(!u.trim()||!g.trim())return void a({type:n.SET_ERROR,payload:r("apiKey.googleSearch.bothRequired")});x(!0);try{let e=new eQ;e.initializeAPI(u.trim(),g.trim()),await e.searchImages("test","en",1),a({type:n.SET_API_KEY,payload:{type:"googleSearch",key:u.trim()}}),a({type:n.SET_GOOGLE_SEARCH_ENGINE_ID,payload:g.trim()}),a({type:n.SET_SUCCESS,payload:r("apiKey.googleSearch.successMessage")}),s()}catch(e){a({type:n.SET_ERROR,payload:r("apiKey.googleSearch.errorMessage",{error:e.message})})}finally{x(!1)}};return(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,f.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg",children:(0,f.jsxs)("div",{className:"p-6",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r("apiKey.title")}),(0,f.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,f.jsxs)("div",{className:"flex border-b border-gray-200 mb-4",children:[(0,f.jsx)("button",{onClick:()=>l("gemini"),className:"px-4 py-2 text-sm font-medium ".concat("gemini"===o?"text-sky-600 border-b-2 border-sky-600":"text-gray-500 hover:text-gray-700"),children:r("apiKey.gemini.title")}),(0,f.jsx)("button",{onClick:()=>l("googleSearch"),className:"px-4 py-2 text-sm font-medium ".concat("googleSearch"===o?"text-sky-600 border-b-2 border-sky-600":"text-gray-500 hover:text-gray-700"),children:r("apiKey.googleSearch.title")})]}),(0,f.jsxs)("div",{className:"space-y-4",children:["gemini"===o&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"gemini-api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:r("apiKey.gemini.label")}),(0,f.jsx)("input",{id:"gemini-api-key",type:"password",value:c,onChange:e=>d(e.target.value),placeholder:r("apiKey.gemini.placeholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",disabled:m})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500",children:r("apiKey.storageInfo")}),(0,f.jsx)("p",{className:"text-xs text-blue-600",children:(0,f.jsx)("a",{href:"https://ai.google.dev/gemini-api/docs/api-key",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:r("apiKey.gemini.getKeyLink")})})]}),"googleSearch"===o&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"google-search-api-key",className:"block text-sm font-medium text-gray-700 mb-1",children:r("apiKey.googleSearch.apiKeyLabel")}),(0,f.jsx)("input",{id:"google-search-api-key",type:"password",value:u,onChange:e=>h(e.target.value),placeholder:r("apiKey.googleSearch.apiKeyPlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",disabled:m})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"google-search-engine-id",className:"block text-sm font-medium text-gray-700 mb-1",children:r("apiKey.googleSearch.engineIdLabel")}),(0,f.jsx)("input",{id:"google-search-engine-id",type:"text",value:g,onChange:e=>p(e.target.value),placeholder:r("apiKey.googleSearch.engineIdPlaceholder"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-sky-500 focus:border-sky-500 text-sm",disabled:m})]}),(0,f.jsx)("p",{className:"text-xs text-gray-500",children:r("apiKey.storageInfo")}),(0,f.jsxs)("div",{className:"text-xs text-blue-600 space-y-1",children:[(0,f.jsx)("p",{children:(0,f.jsx)("a",{href:"https://developers.google.com/custom-search/v1/introduction",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:r("apiKey.googleSearch.getApiKeyLink")})}),(0,f.jsx)("p",{children:(0,f.jsx)("a",{href:"https://cse.google.com/cse/",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:r("apiKey.googleSearch.createEngineLink")})})]})]}),(0,f.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,f.jsx)("button",{onClick:b,disabled:m,className:"flex-1 bg-emerald-500 hover:bg-emerald-600 disabled:bg-emerald-300 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:m?r("apiKey.validating"):r("apiKey.save")}),(0,f.jsx)("button",{onClick:()=>{"gemini"===o?(d(""),a({type:n.SET_API_KEY,payload:{type:"gemini",key:""}}),a({type:n.SET_SUCCESS,payload:r("apiKey.clearMessage")})):(h(""),p(""),a({type:n.SET_API_KEY,payload:{type:"googleSearch",key:""}}),a({type:n.SET_GOOGLE_SEARCH_ENGINE_ID,payload:""}),a({type:n.SET_SUCCESS,payload:r("apiKey.googleSearch.clearMessage")})),s()},disabled:m,className:"bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-300 text-white font-medium py-2 px-4 rounded-md text-sm transition-colors",children:r("apiKey.clear")}),(0,f.jsx)("button",{onClick:s,disabled:m,className:"bg-gray-200 hover:bg-gray-300 disabled:bg-gray-100 text-gray-700 font-medium py-2 px-4 rounded-md text-sm transition-colors",children:r("common.cancel")})]})]})]})})})};var eW=["title"],eY=["title"],eJ=["title"];function eZ(){return(eZ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function eX(e,t){if(null==e)return{};var s,r,i=function(e,t){if(null==e)return{};var s,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(i[s]=e[s]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}var e0=function(e){var t=e.title,s=eX(e,eW);return v.createElement("svg",eZ({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 513 342"},s),t&&v.createElement("title",null,t),v.createElement("path",{fill:"#0052B4",d:"M0 0h513v342H0z"}),v.createElement("path",{fill:"#D80027",d:"M0 0h513v114H0z"}),v.createElement("path",{fill:"#FF9811",d:"M0 228h513v114H0z"}))},e1=function(e){var t=e.title,s=eX(e,eY);return v.createElement("svg",eZ({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 85.333 512 341.333"},s),t&&v.createElement("title",null,t),v.createElement("path",{fill:"#FFF",d:"M0 85.33v341.332h512V85.33z"}),v.createElement("path",{fill:"#0052B4",d:"M0 85.333h512V426.67H0z"}),v.createElement("path",{fill:"#FFF",d:"M0 85.333h512v113.775H0z"}),v.createElement("path",{fill:"#D80027",d:"M0 312.884h512v113.775H0z"}))},e2=function(e){var t=e.title,s=eX(e,eJ);return v.createElement("svg",eZ({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 513 342"},s),t&&v.createElement("title",null,t),v.createElement("path",{fill:"#FFF",d:"M0 0h513v342H0z"}),v.createElement("path",{d:"M0 0h513v26.3H0zm0 52.6h513v26.3H0zm0 52.6h513v26.3H0zm0 52.6h513v26.3H0zm0 52.7h513v26.3H0zm0 52.6h513v26.3H0zm0 52.6h513V342H0z",fill:"#D80027"}),v.createElement("path",{fill:"#2E52B2",d:"M0 0h256.5v184.1H0z"}),v.createElement("path",{d:"m47.8 138.9-4-12.8-4.4 12.8H26.2l10.7 7.7-4 12.8 10.9-7.9 10.6 7.9-4.1-12.8 10.9-7.7zm56.3 0-4.1-12.8-4.2 12.8H82.6l10.7 7.7-4 12.8 10.7-7.9 10.8 7.9-4-12.8 10.7-7.7zm56.5 0-4.3-12.8-4 12.8h-13.5l11 7.7-4.2 12.8 10.7-7.9 11 7.9-4.2-12.8 10.7-7.7zm56.2 0-4-12.8-4.2 12.8h-13.3l10.8 7.7-4 12.8 10.7-7.9 10.8 7.9-4.3-12.8 11-7.7zM100 75.3l-4.2 12.8H82.6L93.3 96l-4 12.6 10.7-7.8 10.8 7.8-4-12.6 10.7-7.9h-13.4zm-56.2 0-4.4 12.8H26.2L36.9 96l-4 12.6 10.9-7.8 10.6 7.8L50.3 96l10.9-7.9H47.8zm112.5 0-4 12.8h-13.5l11 7.9-4.2 12.6 10.7-7.8 11 7.8-4.2-12.6 10.7-7.9h-13.2zm56.5 0-4.2 12.8h-13.3l10.8 7.9-4 12.6 10.7-7.8 10.8 7.8-4.3-12.6 11-7.9h-13.5zm-169-50.6-4.4 12.6H26.2l10.7 7.9-4 12.7L43.8 50l10.6 7.9-4.1-12.7 10.9-7.9H47.8zm56.2 0-4.2 12.6H82.6l10.7 7.9-4 12.7L100 50l10.8 7.9-4-12.7 10.7-7.9h-13.4zm56.3 0-4 12.6h-13.5l11 7.9-4.2 12.7 10.7-7.9 11 7.9-4.2-12.7 10.7-7.9h-13.2zm56.5 0-4.2 12.6h-13.3l10.8 7.9-4 12.7 10.7-7.9 10.8 7.9-4.3-12.7 11-7.9h-13.5z",fill:"#FFF"}))};function e4(e){let{country:t,className:s=""}=e;return(0,f.jsx)("span",{className:"inline-block ".concat(s),children:(0,f.jsx)({AM:e0,US:e2,RU:e1}[t]||e0,{className:"w-6 h-4 rounded-sm border border-gray-200",title:"".concat(t," flag"),role:"img","aria-label":"".concat(t," flag")})})}let e5=function(){let{i18n:e,t}=X(),{dispatch:s,ActionTypes:r}=(0,y.n)(),[i,a]=(0,v.useState)(!1),[n,o]=(0,v.useState)("en"),[l,c]=(0,v.useState)(!1),d=[{code:"hy",name:t("language.languages.hy"),country:"AM"},{code:"hyw",name:t("language.languages.hyw"),country:"AM"},{code:"en",name:t("language.languages.en"),country:"US"},{code:"ru",name:t("language.languages.ru"),country:"RU"}];(0,v.useEffect)(()=>{c(!0),o(e.language)},[e.language]),(0,v.useEffect)(()=>{l&&o(e.language)},[e.language,l]);let u=d.find(e=>e.code===n)||d.find(e=>"en"===e.code),h=t=>{e.changeLanguage(t),s({type:r.SET_SELECTED_LANGUAGE,payload:t}),window.localStorage&&localStorage.setItem("selectedLanguage",t),a(!1)};return l?(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsxs)("button",{onClick:()=>a(!i),className:"flex items-center space-x-2 px-3 py-2 text-sm bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent transition-colors",title:t("language.select"),children:[(0,f.jsx)(e4,{country:u.country,className:"min-w-[1.5rem]"}),(0,f.jsx)("span",{className:"hidden sm:inline font-medium text-gray-700",children:u.name}),(0,f.jsx)("svg",{className:"w-4 h-4 text-gray-500 transition-transform ".concat(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-30 md:hidden",onClick:()=>a(!1)}),(0,f.jsx)("div",{className:"absolute right-0 top-full mt-1 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-40 overflow-hidden",children:(0,f.jsxs)("div",{className:"py-1",children:[(0,f.jsx)("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b border-gray-100",children:t("language.select")}),d.map(t=>(0,f.jsxs)("button",{onClick:()=>h(t.code),className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-50 transition-colors flex items-center space-x-3 ".concat(e.language===t.code?"bg-sky-50 text-sky-700 border-r-2 border-sky-500":"text-gray-700"),children:[(0,f.jsx)(e4,{country:t.country,className:"min-w-[1.5rem]"}),(0,f.jsx)("span",{className:"font-medium",children:t.name}),e.language===t.code&&(0,f.jsx)("svg",{className:"w-4 h-4 text-sky-500 ml-auto",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},t.code))]})})]})]}):(0,f.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-2 text-sm bg-white border border-gray-300 rounded-md",children:[(0,f.jsx)(e4,{country:"US",className:"min-w-[1.5rem]"}),(0,f.jsx)("span",{className:"hidden sm:inline font-medium text-gray-700",children:"English"}),(0,f.jsx)("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})},e3=function(){let{t:e}=X(),{state:t,dispatch:s,ActionTypes:r}=(0,y.n)(),[i,a]=(0,v.useState)(!1);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("header",{className:"bg-gradient-to-r from-sky-600 to-sky-700 text-white shadow-lg shrink-0",children:(0,f.jsx)("div",{className:"px-4 py-3",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsx)("button",{onClick:()=>{s({type:r.TOGGLE_SIDEBAR})},className:"lg:hidden p-2 rounded-md hover:bg-sky-600 transition-colors","aria-label":"Toggle sidebar",children:(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsx)("div",{className:"w-8 h-8 bg-white/20 rounded-lg flex items-center justify-center",children:(0,f.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,f.jsxs)("div",{children:[(0,f.jsx)("h1",{className:"text-lg sm:text-xl font-bold",children:e("header.title")}),(0,f.jsx)("p",{className:"text-xs text-sky-100 hidden sm:block",children:e("header.subtitle")})]})]})]}),(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsx)(e5,{}),(0,f.jsx)("button",{onClick:()=>a(!0),className:"p-2 bg-sky-600 hover:bg-sky-500 rounded-md transition-colors",title:e("header.apiKeyTooltip"),children:(0,f.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1721.75 8.25z"})})}),(0,f.jsx)("button",{onClick:()=>{s({type:r.LOGOUT})},className:"bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-3 rounded-md text-sm transition-colors shadow-sm",children:e("auth.logout")})]})]})})}),(0,f.jsx)(eV,{isOpen:i,onClose:()=>a(!1)})]})};class e6{async searchArticles(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{var i,a,n;let o=await fetch("".concat(eP.INDEXING_BASE_URL,"/Map/Search?Term=").concat(encodeURIComponent(e),"&PageSize=").concat(s,"&PageNumber=").concat(r,"&LanguageId=1"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});if(401===o.status)return{success:!1,error:"Ձեր սեսիան սպառվել է։",unauthorized:!0};let l=await o.json();if(o.ok&&l.accepted)return{success:!0,data:(null==(a=l.data)||null==(i=a[0])?void 0:i.items)||[]};return{success:!1,error:(null==(n=l.errorMessages)?void 0:n.join(", "))||"Որոնումը ձախողվեց։"}}catch(e){return console.error("Search error:",e),{success:!1,error:"Որոնման ժամանակ տեղի ունեցավ սխալ։"}}}extractPlainText(e){let t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}formatArticleContent(e){var t,s;if(!e)return null;let r=e.id||e.nodeId||"default-article",i='<h3 class="text-xl font-bold text-sky-800 mb-4">'.concat(e.mainTitle||e.shortTitle,"</h3>"),a='<p class="text-slate-500">Այս հոդվածի համար մանրամասն բովանդակություն չկա։</p>';if((null==(t=e.content)?void 0:t.length)>0){let t=e.content.find(e=>1===e.languageId);(null==t?void 0:t.formattedText)?a=t.formattedText:(null==(s=e.content[0])?void 0:s.formattedText)&&(a=e.content[0].formattedText)}else e.formattedText&&(a=e.formattedText);return i+=a,(e.featuredImageResized||e.featuredImage)&&(i+='<div class="my-4"><img src="'.concat(e.featuredImageResized||e.featuredImage,'" alt="').concat(e.mainTitle||"Հոդվածի նկար",'" class="rounded-md shadow-md max-w-full h-auto mx-auto" onerror="this.onerror=null; this.src=\'https://placehold.co/600x400/E2E8F0/4A5568?text=Պատկեր+չկա\'; this.alt=\'Պատկերը հասանելի չէ\';"></div>')),{html:'<article id="'.concat(r,'">').concat(i,"</article>"),plainText:this.extractPlainText(i)}}}let e7=new e6,e8=function(e){let{size:t="md",text:s="Բեռնվում է...",description:r=null}=e;return(0,f.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-3",children:[(0,f.jsx)("div",{className:"relative",children:(0,f.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[t]," animate-spin rounded-full border-4 border-sky-200"),children:(0,f.jsx)("div",{className:"absolute top-0 left-0 h-full w-full rounded-full border-4 border-transparent border-t-sky-600"})})}),s&&(0,f.jsx)("p",{className:"".concat({sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[t]," text-gray-600 font-medium animate-pulse"),children:s})]})};var e9=s(2701),te=s(5699);let tt=function(e){var{children:t,variant:s="primary",size:r="md",disabled:i=!1,loading:a=!1,onClick:n,type:o="button",className:l=""}=e,c=(0,te._)(e,["children","variant","size","disabled","loading","onClick","type","className"]);let d="".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-sky-600 hover:bg-sky-700 text-white focus:ring-sky-500 shadow-sm hover:shadow-md",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",success:"bg-emerald-600 hover:bg-emerald-700 text-white focus:ring-emerald-500 shadow-sm hover:shadow-md",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500 shadow-sm hover:shadow-md",warning:"bg-yellow-500 hover:bg-yellow-600 text-white focus:ring-yellow-500 shadow-sm hover:shadow-md",outline:"border-2 border-sky-600 text-sky-600 hover:bg-sky-50 focus:ring-sky-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[r]," ").concat(l);return(0,f.jsxs)("button",(0,e9._)((0,x._)({type:o,onClick:n,disabled:i||a,className:d},c),{children:[a&&(0,f.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]}))},ts=function(e){let{onArticleSelect:t}=e,{t:s}=X(),{state:r,dispatch:i,ActionTypes:a}=(0,y.n)(),[n,o]=(0,v.useState)(r.searchTerm),l=async()=>{if(!n.trim())return void i({type:a.SET_ERROR,payload:s("search.enterKeyword")});i({type:a.SET_SEARCHING,payload:!0}),i({type:a.SET_SEARCH_TERM,payload:n});try{let e=await e7.searchArticles(n,r.accessToken);if(e.success)i({type:a.SET_SEARCH_RESULTS,payload:e.data}),0===e.data.length&&i({type:a.SET_ERROR,payload:s("search.noResults")});else{if(e.unauthorized)return void i({type:a.LOGOUT});i({type:a.SET_ERROR,payload:e.error})}}catch(e){i({type:a.SET_ERROR,payload:s("search.searchError")})}finally{i({type:a.SET_SEARCHING,payload:!1})}},c=e=>{i({type:a.SET_SELECTED_ARTICLE,payload:e}),null==t||t()};return(0,f.jsxs)("div",{className:"h-full flex flex-col",children:[(0,f.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,f.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:s("search.title")}),(0,f.jsxs)("div",{className:"space-y-3",children:[(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&l()},placeholder:s("search.placeholder"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 bg-gray-50 focus:bg-white transition-colors",disabled:r.isSearching}),(0,f.jsx)("svg",{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,f.jsx)(tt,{onClick:l,disabled:r.isSearching||!n.trim(),loading:r.isSearching,className:"w-full",children:r.isSearching?s("search.searching"):s("search.searchButton")})]})]}),(0,f.jsx)("div",{className:"flex-1 overflow-y-auto",children:r.isSearching?(0,f.jsx)("div",{className:"p-8",children:(0,f.jsx)(e8,{size:"md",text:s("search.searching")})}):r.searchResults.length>0?(0,f.jsxs)("div",{className:"p-4 space-y-3",children:[(0,f.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:s("search.resultsCount",{count:r.searchResults.length})}),r.searchResults.map((e,t)=>{var i;return(0,f.jsxs)("div",{onClick:()=>c(e),className:"\n                  p-4 border border-gray-200 rounded-lg cursor-pointer transition-all duration-200\n                  hover:border-sky-300 hover:shadow-md hover:bg-sky-50\n                  ".concat((null==(i=r.selectedArticle)?void 0:i.id)===e.id?"border-sky-500 bg-sky-100 shadow-sm":"bg-white","\n                "),children:[(0,f.jsx)("h4",{className:"font-medium text-gray-900 text-sm line-clamp-2 mb-2",children:e.mainTitle||e.shortTitle||s("search.untitledArticle")}),e.summary&&(0,f.jsx)("p",{className:"text-xs text-gray-600 line-clamp-3 mb-2",children:e.summary}),(0,f.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,f.jsxs)("span",{children:["ID: ",e.id]}),e.categoryName&&(0,f.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:e.categoryName})]})]},e.id||t)})]}):r.searchTerm?(0,f.jsxs)("div",{className:"p-8 text-center",children:[(0,f.jsx)("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,f.jsx)("p",{className:"text-gray-500 text-sm",children:"Ոչ մի արդյունք չգտնվեց"})]}):(0,f.jsxs)("div",{className:"p-8 text-center",children:[(0,f.jsx)("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,f.jsx)("p",{className:"text-gray-500 text-sm",children:"Սկսեք որոնումը բառ մուտքագրելով"})]})})]})},tr=function(){let{state:e,dispatch:t,ActionTypes:s}=(0,y.n)();(0,v.useEffect)(()=>{let e=()=>{window.innerWidth>=1024&&t({type:s.TOGGLE_SIDEBAR})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t,s]);let r=()=>{window.innerWidth<1024&&t({type:s.TOGGLE_SIDEBAR})};return(0,f.jsxs)(f.Fragment,{children:[e.sidebarOpen&&(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:r}),(0,f.jsxs)("aside",{className:"\n          fixed lg:relative inset-y-0 left-0 z-50 lg:z-auto\n          w-80 lg:w-96 bg-white border-r border-gray-200 \n          transform transition-transform duration-300 ease-in-out\n          flex flex-col shrink-0 shadow-lg lg:shadow-none\n          ".concat(e.sidebarOpen?"translate-x-0":"-translate-x-full lg:translate-x-0","\n        "),children:[(0,f.jsx)("div",{className:"lg:hidden flex justify-end p-4 border-b",children:(0,f.jsx)("button",{onClick:r,className:"p-2 rounded-md hover:bg-gray-100 transition-colors",children:(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),"        ",(0,f.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,f.jsx)(ts,{onArticleSelect:r})})]})]})},ti=(e,t,s,r)=>!!e.apiKeys.gemini||(t({type:s.SET_ERROR,payload:r("articleViewer.errors.apiKeyRequired")}),!1),ta=function(e){let{isOpen:t,onClose:s,title:r,children:i,size:a="md"}=e;return t?(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[a]," max-h-[90vh] overflow-hidden"),children:[r&&(0,f.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,f.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,f.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,f.jsx)("div",{className:"overflow-y-auto max-h-[calc(90vh-5rem)]",children:i})]})}):null},tn=function(e){var t,s,r,i,a,n,o,l,c;let{selectedText:d,explanation:u,isExplaining:h,position:g,onClose:p,searchResults:m=null,isLoadingSearch:x=!1,isGoogleSearchConfigured:y=!1}=e,{t:b}=X(),[w,S]=(0,v.useState)("explanation"),j=[{id:"explanation",label:b("tooltip.explanation"),icon:"\uD83D\uDCA1"},{id:"images",label:b("tooltip.images"),icon:"\uD83D\uDDBC️"},{id:"links",label:b("tooltip.links"),icon:"\uD83D\uDD17"},{id:"citations",label:b("tooltip.citations"),icon:"\uD83D\uDCDA"}],E=m&&m.data&&((null==(t=m.data.images)?void 0:t.length)>0||(null==(s=m.data.webLinks)?void 0:s.length)>0||(null==(r=m.data.citations)?void 0:r.length)>0);return(0,f.jsxs)("div",{className:"fixed bg-white border border-gray-300 rounded-lg shadow-xl max-w-lg z-50 transform -translate-x-1/2",style:{left:"".concat(g.x,"px"),top:"".concat(g.y,"px"),maxHeight:"500px",minWidth:"400px"},children:[(0,f.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("h3",{className:"font-semibold text-gray-900 text-sm truncate flex-1 mr-2",children:d}),(0,f.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-gray-600 p-1 rounded",children:(0,f.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,f.jsx)("div",{className:"flex border-b border-gray-200 bg-gray-50",children:j.map(e=>(0,f.jsxs)("button",{onClick:()=>S(e.id),className:"flex-1 px-3 py-3 text-xs font-medium transition-all duration-200 flex items-center justify-center gap-1.5 min-h-[44px] ".concat(w===e.id?"text-sky-700 bg-white border-b-2 border-sky-500 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-100 disabled:text-gray-400 disabled:cursor-not-allowed"),disabled:"explanation"!==e.id&&x,children:[(0,f.jsx)("span",{className:"text-sm leading-none",children:e.icon}),(0,f.jsx)("span",{className:"leading-none",children:e.label})]},e.id))}),(0,f.jsxs)("div",{className:"p-4 max-h-96 overflow-y-auto bg-white",children:["explanation"===w&&(0,f.jsx)("div",{className:"text-sm",children:h?(0,f.jsxs)("div",{className:"flex items-center text-sky-600 py-4",children:[(0,f.jsxs)("svg",{className:"animate-spin w-4 h-4 mr-3",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,f.jsx)("span",{className:"text-sm",children:b("articleViewer.loading.explanation")})]}):(0,f.jsx)("div",{className:"text-gray-700 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:u}})}),"images"===w&&(0,f.jsx)("div",{children:x?(0,f.jsx)("div",{className:"flex justify-center py-4",children:(0,f.jsx)(e8,{size:"sm",text:b("tooltip.loadingImages")})}):(null==m||null==(a=m.data)||null==(i=a.images)?void 0:i.length)>0?(0,f.jsx)("div",{className:"grid grid-cols-2 gap-3",children:m.data.images.map((e,t)=>(0,f.jsxs)("div",{className:"group cursor-pointer",onClick:()=>window.open(e.contextLink,"_blank"),children:[(0,f.jsxs)("div",{className:"relative overflow-hidden rounded-lg border border-gray-200 hover:border-sky-300 transition-all duration-200 hover:shadow-md",children:[(0,f.jsx)("img",{src:e.thumbnailLink,alt:e.title,className:"w-full h-28 object-cover hover:scale-105 transition-transform duration-300",loading:"lazy",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,f.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center",children:(0,f.jsx)("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white rounded-full p-2 shadow-lg",children:(0,f.jsx)("svg",{className:"w-4 h-4 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})}),(0,f.jsx)("div",{className:"absolute inset-0 bg-gray-100 items-center justify-center hidden",children:(0,f.jsxs)("div",{className:"text-center text-gray-400",children:[(0,f.jsx)("svg",{className:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,f.jsx)("p",{className:"text-xs",children:"Image unavailable"})]})})]}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)("h4",{className:"text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-sky-700 transition-colors duration-200 leading-tight",children:e.title}),(0,f.jsx)("p",{className:"text-xs text-gray-500 mt-1 truncate",children:e.displayLink})]})]},t))}):y?(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,f.jsx)("p",{className:"text-xs",children:b("tooltip.noImages")})]}):(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsxs)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,f.jsx)("p",{className:"text-xs mb-2",children:"Configure Google Search API to see images"}),(0,f.jsx)("p",{className:"text-xs text-blue-600 cursor-pointer hover:underline",children:"Settings → API Configuration"})]})}),"links"===w&&(0,f.jsx)("div",{children:x?(0,f.jsx)("div",{className:"flex justify-center py-4",children:(0,f.jsx)(e8,{size:"sm",text:b("tooltip.loadingLinks")})}):(null==m||null==(o=m.data)||null==(n=o.webLinks)?void 0:n.length)>0?(0,f.jsx)("div",{className:"space-y-3",children:m.data.webLinks.map((e,t)=>(0,f.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-sky-300 transition-all duration-200",children:(0,f.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[(0,f.jsx)("h4",{className:"text-sm font-semibold text-sky-700 group-hover:text-sky-800 line-clamp-2 mb-2",children:e.title}),(0,f.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 leading-relaxed",children:e.snippet}),(0,f.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,f.jsx)("svg",{className:"w-3 h-3 mr-1.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),(0,f.jsx)("span",{className:"truncate",children:e.displayLink})]})]})},t))}):y?(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),(0,f.jsx)("p",{className:"text-xs",children:b("tooltip.noLinks")})]}):(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsxs)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,f.jsx)("p",{className:"text-xs mb-2",children:"Configure Google Search API to see links"}),(0,f.jsx)("p",{className:"text-xs text-blue-600 cursor-pointer hover:underline",children:"Settings → API Configuration"})]})}),"citations"===w&&(0,f.jsx)("div",{children:x?(0,f.jsx)("div",{className:"flex justify-center py-4",children:(0,f.jsx)(e8,{size:"sm",text:b("tooltip.loadingCitations")})}):(null==m||null==(c=m.data)||null==(l=c.citations)?void 0:l.length)>0?(0,f.jsx)("div",{className:"space-y-3",children:m.data.citations.map((e,t)=>(0,f.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 hover:border-sky-300 transition-all duration-200",children:(0,f.jsxs)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block group",children:[(0,f.jsx)("h4",{className:"text-sm font-semibold text-gray-900 group-hover:text-sky-700 line-clamp-2 mb-2",children:e.title}),(e.authors||e.year)&&(0,f.jsxs)("p",{className:"text-sm text-gray-600 mb-2 font-medium",children:[e.authors&&(0,f.jsx)("span",{children:e.authors}),e.authors&&e.year&&(0,f.jsx)("span",{className:"text-gray-400",children:" • "}),e.year&&(0,f.jsx)("span",{children:e.year})]}),(0,f.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-3 leading-relaxed",children:e.snippet}),(0,f.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,f.jsx)("svg",{className:"w-3 h-3 mr-1.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,f.jsx)("span",{className:"truncate",children:e.displayLink})]})]})},t))}):y?(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsx)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,f.jsx)("p",{className:"text-xs",children:b("tooltip.noCitations")})]}):(0,f.jsxs)("div",{className:"text-center py-6 text-gray-500",children:[(0,f.jsxs)("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,f.jsx)("p",{className:"text-xs mb-2",children:"Configure Google Search API to see citations"}),(0,f.jsx)("p",{className:"text-xs text-blue-600 cursor-pointer hover:underline",children:"Settings → API Configuration"})]})})]}),E&&(0,f.jsx)("div",{className:"px-3 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-500 rounded-b-lg",children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),b("tooltip.poweredByGoogle")]})})]})},to=function(){let{t:e}=X(),{state:t,dispatch:s,ActionTypes:r}=(0,y.n)(),[i,a]=(0,v.useState)(!1),[n,o]=(0,v.useState)(!1),l=(0,v.useMemo)(()=>e=>{var t;return(null==(t=eq[e])?void 0:t.instructions)||eq.hy.instructions},[]),c=(0,v.useMemo)(()=>l(t.selectedLanguage),[l,t.selectedLanguage]),[d,u]=(0,v.useState)(c),[h,g]=(0,v.useState)("gemini-2.5-flash-preview-05-20"),[p,m]=(0,v.useState)(.7);(0,v.useEffect)(()=>{u(l(t.selectedLanguage))},[l,t.selectedLanguage]);let x=(0,v.useCallback)(()=>{s({type:r.HIDE_QUIZ_MODAL})},[s,r]),b=async()=>{if(!ti(t,s,r,e))return void o(!0);if(!t.selectedArticle)return void s({type:r.SET_ERROR,payload:e("quiz.errors.noArticleSelected")});a(!0);try{e$.initializeAPI(t.apiKeys.gemini);let i=e7.formatArticleContent(t.selectedArticle);if(!i||!i.html){s({type:r.SET_ERROR,payload:e("quiz.errors.noArticleSelected")}),a(!1);return}let n=await e$.generateQuiz({instructions:d,articleContent:i.html,model:h,temperature:p,targetLanguage:t.selectedLanguage});if(n.success&&n.data&&n.data.questions&&n.data.questions.length>0)s({type:r.SET_GENERATED_QUIZ,payload:n.data}),s({type:r.SHOW_QUIZ_INTERFACE}),s({type:r.SET_SUCCESS,payload:e("quiz.errors.quizGeneratedSuccess",{count:n.data.questions.length})}),x();else{let t=n.error||e("quiz.errors.generationFailed");s({type:r.SET_ERROR,payload:t})}}catch(t){console.error("Quiz generation error:",t),s({type:r.SET_ERROR,payload:t.message||e("quiz.errors.generationError")})}finally{a(!1)}};return(0,f.jsxs)(f.Fragment,{children:["      ",(0,f.jsx)(ta,{isOpen:t.showQuizModal,onClose:x,title:e("quiz.modal.title"),size:"lg",children:(0,f.jsxs)("div",{className:"p-6 space-y-6",children:["          ",(0,f.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e("quiz.modal.selectedArticle")}),t.selectedArticle&&(0,f.jsxs)("span",{className:"text-xs text-gray-500",children:[(()=>{var e;let s=e7.formatArticleContent(t.selectedArticle);return(null==s||null==(e=s.plainText)?void 0:e.length)||0})()," ",e("quiz.modal.charactersCount")]})]}),t.selectedArticle?(0,f.jsx)("p",{className:"text-sm font-medium text-green-700 mt-1",children:t.selectedArticle.mainTitle||t.selectedArticle.shortTitle}):(0,f.jsx)("p",{className:"text-sm text-amber-600 mt-1",children:e("quiz.modal.noArticleSelected")})]}),"          ",(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("quiz.modal.aiInstructions")}),(0,f.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:e("quiz.modal.instructionsPlaceholder")})]}),"          ",(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e("quiz.modal.aiModel")}),(0,f.jsx)("select",{value:h,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:eG.map(e=>(0,f.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))})]}),"          ",(0,f.jsxs)("div",{children:[(0,f.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e("quiz.modal.creativityLevel"),": ",p]}),"            ",(0,f.jsx)("input",{type:"range",min:"0",max:"2",step:"0.1",value:p,onChange:e=>m(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),"            ",(0,f.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,f.jsx)("span",{children:e("quiz.modal.conservative")}),(0,f.jsx)("span",{children:e("quiz.modal.balanced")}),(0,f.jsx)("span",{children:e("quiz.modal.creative")})]})]}),!t.apiKeys.gemini&&(0,f.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"                ",(0,f.jsx)("p",{className:"text-sm text-yellow-800",children:e("quiz.modal.apiKeyRequired")})]}),(0,f.jsx)(tt,{variant:"warning",size:"sm",className:"mt-2",onClick:()=>o(!0),children:e("quiz.modal.setApiKey")})]}),"          ","          ",(0,f.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,f.jsx)(tt,{variant:"outline",onClick:x,disabled:i,children:e("quiz.modal.cancel")}),(0,f.jsx)(tt,{onClick:b,disabled:!t.selectedArticle||i,loading:i,children:i?e("quiz.modal.generating"):e("quiz.modal.generateQuiz")})]})]})}),(0,f.jsx)(eV,{isOpen:n,onClose:()=>o(!1),onSave:()=>{o(!1),t.apiKeys.gemini&&b()}})]})},tl=e=>{var t,s;let{quiz:r,onBack:i,onComplete:a,onGenerateNew:n}=e,{t:o}=X(),{state:l}=(0,y.n)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)({}),[g,p]=(0,v.useState)(!1),[m,b]=(0,v.useState)(0),[w,S]=(0,v.useState)({}),[j,E]=(0,v.useState)({}),k=(0,v.useMemo)(()=>e_[l.selectedLanguage]||e_.hy,[l.selectedLanguage]),N=(0,v.useCallback)(e=>{if(Object.values(k).includes(e))return e;for(let[t,s]of Object.entries(e_.en))if(s.toLowerCase()===e.toLowerCase())return k[t];for(let[t,s]of Object.entries(e_.hy))if(s===e)return k[t];return e},[k]),C=(0,v.useMemo)(()=>{var e;return null==r||null==(e=r.questions)?void 0:e[c]},[null==r?void 0:r.questions,c]),A=(0,v.useMemo)(()=>{var e;return(null==r||null==(e=r.questions)?void 0:e.length)||0},[null==r||null==(t=r.questions)?void 0:t.length]),I=(0,v.useCallback)(e=>{h(t=>(0,e9._)((0,x._)({},t),{[c]:e})),j[c]||S(e=>(0,e9._)((0,x._)({},e),{[c]:null}))},[c,j]),L=(0,v.useCallback)(()=>{let e=u[c],t=C.answer,s=e===t;E(e=>(0,e9._)((0,x._)({},e),{[c]:!0})),S(r=>(0,e9._)((0,x._)({},r),{[c]:{isCorrect:s,userAnswer:e,correctAnswer:t,isAnswered:void 0!==e}}))},[u,c,null==C?void 0:C.answer]),T=(0,v.useCallback)(()=>{let e=0;r.questions.forEach((t,s)=>{u[s]===t.answer&&e++});let t=Math.round(e/A*100);b(t),p(!0),a&&a({score:t,answers:u,totalQuestions:A})},[null==r?void 0:r.questions,u,A,a]),O=(0,v.useCallback)(()=>{c<A-1?d(e=>e+1):T()},[c,A,T]),R=(0,v.useCallback)(()=>{c>0&&d(e=>e-1)},[c]),z=w[c],P=j[c];return(P||u[c],r&&r.questions&&0!==r.questions.length)?g?(0,f.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,f.jsx)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:o("quiz.interfacePage.quizResults")}),(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsxs)(tt,{onClick:i,variant:"outline",size:"sm",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),o("quiz.interfacePage.backToArticle")]}),n&&(0,f.jsxs)(tt,{onClick:n,variant:"primary",size:"sm",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),o("quiz.interfacePage.newQuiz")]})]})]})}),(0,f.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,f.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,f.jsxs)("div",{className:"text-center mb-8 bg-gray-50 rounded-lg p-8",children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsxs)("div",{className:"text-6xl font-bold mb-2 ".concat(m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600"),children:[m,"%"]}),(0,f.jsx)("p",{className:"text-xl text-gray-600",children:m>=80?o("quiz.interfacePage.excellent"):m>=60?o("quiz.interfacePage.goodJob"):o("quiz.interfacePage.keepPracticing")})]}),(0,f.jsx)("p",{className:"text-gray-600",children:o("quiz.interfacePage.scoreMessage",{correct:Object.values(u).filter((e,t)=>{var s;return e===(null==(s=r.questions[t])?void 0:s.answer)}).length,total:A})})]}),(0,f.jsxs)("div",{className:"space-y-6",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:o("quiz.interfacePage.detailedResults")}),"              ",r.questions.map((e,t)=>{let s=u[t],r=s===e.answer;return(0,f.jsx)("div",{className:"border border-gray-200 rounded-lg p-6",children:(0,f.jsxs)("div",{className:"flex items-start gap-4",children:[(0,f.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ".concat(r?"bg-green-500":"bg-red-500"),children:r?"✓":"✗"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("p",{className:"font-medium text-gray-900 mb-3 text-lg",children:[t+1,". ",e.question]}),(0,f.jsxs)("div",{className:"space-y-2",children:["                          ",e.options.map((t,i)=>(0,f.jsxs)("div",{className:"p-3 rounded-md border ".concat(i===e.answer?"bg-green-50 border-green-200 text-green-800":i!==s||r?"bg-gray-50 border-gray-200 text-gray-600":"bg-red-50 border-red-200 text-red-800"),children:["                              ",(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("span",{children:[(0,f.jsxs)("strong",{children:[String.fromCharCode(65+i),"."]})," ",t]}),(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[i===e.answer&&(0,f.jsx)("span",{className:"text-green-600 font-medium",children:o("quiz.interfacePage.correctAnswerLabel")}),i===s&&!r&&(0,f.jsx)("span",{className:"text-red-600 font-medium",children:o("quiz.interfacePage.yourAnswerLabel")})]})]})]},i))]})]})]})},t)})]})]})})]}):(0,f.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,f.jsxs)("div",{className:"border-b border-gray-200 p-4 bg-gray-50",children:[(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:r.title||o("quiz.interfacePage.quiz")}),(0,f.jsx)("p",{className:"text-sm text-gray-600",children:o("quiz.interfacePage.questionNumber",{current:c+1,total:A})})]}),(0,f.jsxs)(tt,{onClick:i,variant:"outline",size:"sm",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),o("quiz.interfacePage.close")]})]}),(0,f.jsx)("div",{className:"mt-4",children:(0,f.jsx)("div",{className:"bg-gray-200 rounded-full h-2",children:(0,f.jsx)("div",{className:"bg-sky-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((c+1)/A*100,"%")}})})})]}),(0,f.jsxs)("div",{className:"flex-1 overflow-y-auto",children:["        ",(0,f.jsx)("div",{className:"max-w-3xl mx-auto p-6",children:(0,f.jsxs)("div",{className:"mb-8",children:[(0,f.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:null==C?void 0:C.question}),"            ",(null==C?void 0:C.difficulty)&&(0,f.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:[(0,f.jsx)("span",{className:"font-medium",children:o("quiz.interfacePage.difficulty")})," ",N(C.difficulty)]}),(0,f.jsx)("div",{className:"space-y-3",children:null==C||null==(s=C.options)?void 0:s.map((e,t)=>{let s=u[c]===t,r=t===C.answer,i=(null==z?void 0:z.userAnswer)===t,a="flex items-center p-4 border-2 rounded-lg cursor-pointer transition-colors ";return P?r?a+="border-green-500 bg-green-50 text-green-800":i&&!r?a+="border-red-500 bg-red-50 text-red-800":a+="border-gray-200 bg-gray-50 text-gray-600":s?a+="border-sky-500 bg-sky-50":a+="border-gray-200 hover:border-gray-300 hover:bg-gray-50",(0,f.jsxs)("label",{className:a,children:[(0,f.jsx)("input",{type:"radio",name:"question-".concat(c),value:t,checked:s,onChange:()=>I(t),disabled:P,className:"sr-only"}),"                    ",(0,f.jsxs)("div",{className:"w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center ".concat(P&&r?"border-green-500 bg-green-500":P&&i&&!r?"border-red-500 bg-red-500":s&&!P?"border-sky-500 bg-sky-500":"border-gray-300"),children:[P&&r&&(0,f.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),P&&i&&!r&&(0,f.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),s&&!P&&(0,f.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})]}),(0,f.jsxs)("span",{className:"text-gray-900 flex-1",children:[e,P&&r&&(0,f.jsx)("span",{className:"ml-2 text-green-600 font-medium",children:o("quiz.interfacePage.correctAnswerLabel")})]})]},t)})}),!P&&(0,f.jsx)("button",{onClick:L,disabled:void 0===u[c],className:"mt-4 px-4 py-2 rounded-lg font-semibold transition-colors ".concat(void 0!==u[c]?"bg-yellow-500 hover:bg-yellow-600 text-white shadow-md":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:o("quiz.interfacePage.checkAnswer")}),z&&(0,f.jsxs)("div",{className:"mt-4 p-4 rounded-lg border-l-4 ".concat(z.isCorrect?"bg-green-50 border-green-400":z.isAnswered?"bg-red-50 border-red-400":"bg-yellow-50 border-yellow-400"),children:[z.isAnswered?z.isCorrect?(0,f.jsx)("div",{className:"text-green-700",children:(0,f.jsx)("strong",{children:o("quiz.interfacePage.correctFeedback")})}):(0,f.jsx)("div",{className:"text-red-700",children:(0,f.jsx)("strong",{children:o("quiz.interfacePage.incorrectFeedback",{correct:C.options[z.correctAnswer]})})}):(0,f.jsx)("div",{className:"text-yellow-700",children:(0,f.jsx)("strong",{children:o("quiz.interfacePage.notAnsweredFeedback")})}),(null==C?void 0:C.explanation)&&(0,f.jsx)("div",{className:"mt-3 p-3 bg-gray-100 rounded-md border-l-4 border-gray-400",children:(0,f.jsxs)("div",{className:"text-gray-700 text-sm",children:[(0,f.jsx)("strong",{children:o("quiz.interfacePage.explanation")})," ",C.explanation]})})]})]})})]}),(0,f.jsx)("div",{className:"border-t border-gray-200 p-4 bg-gray-50",children:(0,f.jsxs)("div",{className:"max-w-3xl mx-auto flex justify-between items-center",children:[(0,f.jsxs)(tt,{onClick:R,disabled:0===c,variant:"outline",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),o("quiz.interfacePage.previous")]}),(0,f.jsx)(tt,{onClick:O,disabled:void 0===u[c],variant:"primary",children:c===A-1?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),o("quiz.interfacePage.finishQuiz")]}):(0,f.jsxs)(f.Fragment,{children:[o("quiz.interfacePage.next"),(0,f.jsx)("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})]}):(0,f.jsx)("div",{className:"h-full flex items-center justify-center bg-white",children:(0,f.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,f.jsx)("svg",{className:"w-16 h-16 text-red-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,f.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o("quiz.interfacePage.quizError")}),(0,f.jsx)("p",{className:"text-gray-500 mb-4",children:o("quiz.interfacePage.noQuestionsMessage")}),(0,f.jsx)(tt,{onClick:i,variant:"outline",children:o("quiz.interfacePage.backToArticle")})]})})},tc=function(e){let{onSelectAndExplain:t,onKeyPoints:s,onQuizGeneration:r,onTranslateArticle:i,isSelectMode:a=!1,isShowingTranslation:n=!1,isLoadingTranslation:o=!1}=e,{t:l}=X(),[c,d]=(0,v.useState)(null);return(0,v.useEffect)(()=>{d(a?"select":null)},[a]),(0,f.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,f.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:l("articleToolbar.title")}),(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsxs)(tt,{onClick:()=>{let e="select"===c?null:"select";d(e),t("select"===e)},variant:"select"===c?"primary":"outline",size:"sm",className:"select"===c?"ring-2 ring-blue-500 ring-opacity-50":"",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("articleToolbar.selectAndExplain")]}),(0,f.jsxs)(tt,{onClick:()=>{d(null),s()},variant:"outline",size:"sm",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),l("articleToolbar.keyPoints")]}),(0,f.jsxs)(tt,{onClick:()=>{d(null),r()},variant:"outline",size:"sm",children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l("articleToolbar.quiz")]}),(0,f.jsx)(tt,{onClick:()=>{d(null),i()},variant:n?"primary":"outline",size:"sm",disabled:o,children:o?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("svg",{className:"animate-spin w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l("articleViewer.loading.translation")]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"})}),l(n?"articleToolbar.showOriginal":"articleToolbar.translate")]})})]})]}),"select"===c&&(0,f.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[(0,f.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,f.jsx)("span",{children:l("articleToolbar.selectModeActive")})]})]})})},td=v.memo(function(){let{t:e,i18n:t}=X(),{state:s,dispatch:r,ActionTypes:i}=(0,y.n)(),[a,n]=(0,v.useState)(!1),[o,l]=(0,v.useState)(""),[c,d]=(0,v.useState)({x:0,y:0}),[u,h]=(0,v.useState)(!1),[g,p]=(0,v.useState)(""),[m,x]=(0,v.useState)(null),[b,w]=(0,v.useState)(!1),[S,j]=(0,v.useState)(!1),[E,k]=(0,v.useState)(""),[N,C]=(0,v.useState)(!1),[A,I]=(0,v.useState)(!1),[L,T]=(0,v.useState)(null),[O,R]=(0,v.useState)(!1),[z,P]=(0,v.useState)(!1),_=(0,v.useRef)(null),q=(0,v.useRef)(null),M=(0,v.useMemo)(()=>s.selectedArticle?e7.formatArticleContent(s.selectedArticle):null,[s.selectedArticle]),D=(0,v.useMemo)(()=>O?L?L.replace(/<[^>]*>/g,""):"":(null==M?void 0:M.plainText)||"",[O,L,null==M?void 0:M.plainText]);(0,v.useEffect)(()=>{h(!1),l(""),p(""),T(null),R(!1),I(!1),k("")},[s.selectedArticle]),(0,v.useEffect)(()=>{k("")},[O]);let H=(0,v.useCallback)(async()=>{if(!A)return;let t=window.getSelection(),a=t.toString().trim();if(!a||a.length<2)return void h(!1);if(!ti(s,r,i,e))return;let o=t.getRangeAt(0).getBoundingClientRect();l(a),d({x:o.left+o.width/2,y:o.bottom+window.scrollY+8}),h(!0),n(!0),x(null),w(!1),p(e("articleViewer.loading.explanation"));let c=[];if(c.push(e$.explainTerm(a,D,s.apiKeys.gemini,s.selectedLanguage)),s.apiKeys.googleSearch&&s.googleSearchEngineId){w(!0),eB.initializeAPI(s.apiKeys.googleSearch,s.googleSearchEngineId);let e=D?D.substring(0,2e3):"";c.push(eB.searchAll(a,s.selectedLanguage,e))}try{let e=await Promise.allSettled(c),t=e[0];if("fulfilled"===t.status&&t.value.success)p(t.value.data);else{var u;let e="fulfilled"===t.status?t.value.error:(null==(u=t.reason)?void 0:u.message)||"Unknown error";p('<span class="text-red-600">'.concat(e,"</span>"))}if(e.length>1){let t=e[1];"fulfilled"===t.status&&t.value.success&&x(t.value)}w(!1)}catch(t){p('<span class="text-red-600">'.concat(e("articleViewer.errors.explanationFailed"),"</span>"))}finally{n(!1)}},[A,s,r,i,e,D]),G=(0,v.useCallback)(async()=>{if(!(null==M?void 0:M.plainText))return void r({type:i.SET_ERROR,payload:e("articleViewer.errors.noArticleSelected")});if(!ti(s,r,i,e))return;j(!0),C(!0),k("");let t=O&&L?L.replace(/<[^>]*>/g,""):M.plainText,a=e("language.languages.".concat(s.selectedLanguage)),n="Extract the key points from the following article and present them in ".concat(a,".\n\nREQUIREMENTS:\n1. Provide 5-8 main key points\n2. Write each point as a complete sentence\n3. Use clear and concise language in ").concat(a,"\n4. Focus on the most important information\n5. Format as a bullet list\n\nArticle content:\n---\n").concat(t,"\n---\n\nPlease provide the key points in ").concat(a,", formatted as a bullet list with clear, informative sentences.");try{e$.genAI||e$.initializeAPI(s.apiKeys.gemini);let t=e$.genAI.getGenerativeModel({model:"gemini-2.5-flash-preview-05-20"}),r=await t.generateContent({contents:[{role:"user",parts:[{text:n}]}],generationConfig:{temperature:.4}}),i=(await r.response).text();if(i){let e=i.split("\n").filter(e=>e.trim()),t='<ul class="list-disc pl-5 space-y-2">'+e.map(e=>'<li class="text-gray-700 leading-relaxed">'.concat(e.replace(/^[-•*]\s*/,""),"</li>")).join("")+"</ul>";k(t)}else k('<p class="text-red-600">'.concat(e("articleViewer.errors.keyPointsFailed"),"</p>"))}catch(t){console.error("Error getting key points:",t),k('<p class="text-red-600">'.concat(e("articleViewer.errors.keyPointsError",{error:t.message}),"</p>"))}finally{C(!1)}},[null==M?void 0:M.plainText,r,i,e,s,O,L]),K=(0,v.useCallback)(async()=>{if(!(null==M?void 0:M.html))return void r({type:i.SET_ERROR,payload:e("articleViewer.errors.noArticleSelected")});if(ti(s,r,i,e)){if(O)return void R(!1);if(L)return void R(!0);P(!0);try{e$.genAI||e$.initializeAPI(s.apiKeys.gemini);let t=e$.genAI.getGenerativeModel({model:"gemini-2.5-flash-preview-05-20"}),r="You are a professional translator with expertise in preserving HTML formatting. Your task is to translate the following article content to ".concat(e("language.languages.".concat(s.selectedLanguage)),".\n\nCRITICAL REQUIREMENTS:\n1. Maintain ALL HTML tags, attributes, and structure exactly as they appear\n2. Only translate the text content within HTML tags\n3. Preserve all class names, IDs, styles, and attributes\n4. Keep HTML entities and special characters intact\n5. Maintain the exact spacing and formatting structure\n6. Do not add any markdown formatting or extra tags\n7. Translate naturally while preserving the original meaning and tone\n\nArticle content to translate:\n").concat(M.html,"\n\nPlease provide the translation with the exact same HTML structure, translating only the text content within the tags."),i=await t.generateContent({contents:[{role:"user",parts:[{text:r}]}],generationConfig:{temperature:.1,topP:.8,topK:40,maxOutputTokens:8192}}),a=(await i.response).text();if(a)if((a=(a=a.replace(/^```html\s*|\s*```$/g,"")).replace(/^```\s*|\s*```$/g,"")).includes("<")&&a.includes(">"))T(a),R(!0);else throw Error("Translation response does not contain valid HTML");else throw Error("Empty translation response")}catch(t){console.error("Error translating article:",t),r({type:i.SET_ERROR,payload:e("articleViewer.errors.translationError",{error:t.message})})}finally{P(!1)}}},[null==M?void 0:M.html,r,i,e,s,O,L]),F=(0,v.useCallback)(e=>{I(e),e||h(!1)},[]),U=(0,v.useCallback)(e=>{q.current&&!q.current.contains(e.target)&&h(!1)},[]),$=(0,v.useCallback)(()=>{r({type:i.HIDE_QUIZ_INTERFACE})},[r,i]);return((0,v.useEffect)(()=>{if(u)return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[u,U]),s.selectedArticle)?s.showQuizInterface&&s.generatedQuiz?(0,f.jsx)("div",{className:"h-full bg-white",children:(0,f.jsx)(tl,{quiz:s.generatedQuiz,onBack:$,onComplete:e=>{},onGenerateNew:()=>{r({type:i.HIDE_QUIZ_INTERFACE}),r({type:i.SHOW_QUIZ_MODAL})}})}):(0,f.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,f.jsx)(tc,{onSelectAndExplain:F,onKeyPoints:G,onQuizGeneration:()=>r({type:i.SHOW_QUIZ_MODAL}),onTranslateArticle:K,isSelectMode:A,isShowingTranslation:O,isLoadingTranslation:z}),(0,f.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,f.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,f.jsx)("div",{ref:_,className:"prose prose-lg max-w-none prose-headings:text-gray-900 prose-p:text-gray-700 prose-a:text-sky-600 prose-strong:text-gray-900",onMouseUp:H,dangerouslySetInnerHTML:{__html:O&&L?L:(null==M?void 0:M.html)||"<p>".concat(e("articleViewer.errors.contentNotAvailable"),"</p>")}})})}),u&&(0,f.jsx)(tn,{selectedText:o,explanation:g,isExplaining:a,position:c,searchResults:m,isLoadingSearch:b,isGoogleSearchConfigured:!!(s.apiKeys.googleSearch&&s.googleSearchEngineId),onClose:()=>h(!1)}),"      ",(0,f.jsx)(ta,{isOpen:S,onClose:()=>j(!1),title:"".concat(e("articleViewer.modals.keyPointsTitle")).concat(O?" (".concat(e("language.languages.".concat(s.selectedLanguage)),")"):""),size:"lg",children:(0,f.jsx)("div",{className:"p-6",children:N?(0,f.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,f.jsxs)("svg",{className:"animate-spin h-8 w-8 text-sky-600 mr-3",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,f.jsx)("span",{className:"text-gray-600",children:e("articleViewer.loading.keyPoints")})]}):(0,f.jsx)("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:E}})})}),(0,f.jsx)(to,{})]}):(0,f.jsx)("div",{className:"h-full flex items-center justify-center bg-white",children:(0,f.jsxs)("div",{className:"text-center max-w-md mx-auto p-8",children:[(0,f.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,f.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e("articleViewer.noArticle.title")}),(0,f.jsx)("p",{className:"text-gray-500",children:e("articleViewer.noArticle.message")})]})})}),tu=e=>{var t,s;let{quiz:r,onComplete:i,onClose:a}=e,{t:n}=X(),{dispatch:o,ActionTypes:l}=(0,y.n)(),[c,d]=(0,v.useState)(0),[u,h]=(0,v.useState)({}),[g,p]=(0,v.useState)(!1),[m,b]=(0,v.useState)(0),w=null==r||null==(t=r.questions)?void 0:t[c],S=(null==r||null==(s=r.questions)?void 0:s.length)||0,j=e=>{h(t=>(0,e9._)((0,x._)({},t),{[c]:e}))},E=()=>{let e=0;r.questions.forEach((t,s)=>{u[s]===t.answer&&e++}),b(Math.round(e/S*100)),p(!0)};return r&&r.questions&&0!==r.questions.length?g?(0,f.jsx)(ta,{isOpen:!0,onClose:a,title:n("quiz.interface.results"),size:"lg",children:(0,f.jsxs)("div",{className:"p-6",children:[(0,f.jsxs)("div",{className:"text-center mb-8",children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsxs)("div",{className:"text-6xl font-bold mb-2 ".concat(m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600"),children:[m,"%"]}),(0,f.jsx)("p",{className:"text-xl text-gray-600",children:m>=80?n("quiz.interface.excellent"):m>=60?n("quiz.interface.goodJob"):n("quiz.interface.keepPracticing")})]}),"            ",(0,f.jsx)("p",{className:"text-gray-600 mb-6",children:n("quiz.interface.correctAnswers",{correct:Object.values(u).filter((e,t)=>{var s;return e===(null==(s=r.questions[t])?void 0:s.answer)}).length,total:S})})]}),(0,f.jsxs)("div",{className:"space-y-4 mb-6 max-h-64 overflow-y-auto",children:["            ",r.questions.map((e,t)=>{let s=u[t],r=s===e.answer;return(0,f.jsx)("div",{className:"border rounded-lg p-4",children:(0,f.jsxs)("div",{className:"flex items-start gap-3",children:[(0,f.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-sm ".concat(r?"bg-green-500":"bg-red-500"),children:r?"✓":"✗"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("p",{className:"font-medium text-gray-900 mb-2",children:[t+1,". ",e.question]}),(0,f.jsx)("div",{className:"space-y-1 text-sm",children:e.options.map((t,i)=>(0,f.jsxs)("div",{className:"p-2 rounded ".concat(i===e.answer?"bg-green-100 text-green-800":i!==s||r?"text-gray-600":"bg-red-100 text-red-800"),children:[String.fromCharCode(65+i),". ",t,i===e.answer&&" ✓",i===s&&!r&&" ".concat(n("quiz.interface.yourAnswer"))]},i))})]})]})},t)})]}),(0,f.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,f.jsx)(tt,{onClick:a,variant:"outline",children:n("quiz.interface.close")}),(0,f.jsx)(tt,{onClick:()=>{i({score:m,answers:u,totalQuestions:S}),o({type:l.SET_SUCCESS,payload:n("quiz.errors.completionSuccess")})},children:n("quiz.interface.saveResults")})]})]})}):(0,f.jsx)(ta,{isOpen:!0,onClose:a,title:"Quiz: ".concat(r.title||"Untitled"),size:"lg",children:(0,f.jsxs)("div",{className:"p-6",children:[(0,f.jsxs)("div",{className:"mb-6",children:[(0,f.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[(0,f.jsx)("span",{children:n("quiz.interface.questionProgress",{current:c+1,total:S})}),(0,f.jsx)("span",{children:n("quiz.interface.percentComplete",{percent:Math.round((c+1)/S*100)})})]}),(0,f.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,f.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat((c+1)/S*100,"%")}})})]}),(0,f.jsxs)("div",{className:"mb-8",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:w.question}),(0,f.jsx)("div",{className:"space-y-3",children:w.options.map((e,t)=>(0,f.jsx)("label",{className:"block p-4 border rounded-lg cursor-pointer transition-colors ".concat(u[c]===t?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("input",{type:"radio",name:"question-".concat(c),value:t,checked:u[c]===t,onChange:()=>j(t),className:"sr-only"}),(0,f.jsx)("div",{className:"w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center ".concat(u[c]===t?"border-blue-500 bg-blue-500":"border-gray-300"),children:u[c]===t&&(0,f.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,f.jsxs)("span",{className:"font-medium text-gray-900 mr-3",children:[String.fromCharCode(65+t),"."]}),(0,f.jsx)("span",{className:"text-gray-900",children:e})]})},t))})]}),(0,f.jsxs)("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[(0,f.jsx)(tt,{onClick:()=>{c>0&&d(e=>e-1)},disabled:0===c,variant:"outline",children:n("quiz.interface.previous")}),(0,f.jsxs)("div",{className:"flex gap-3",children:[(0,f.jsx)(tt,{onClick:a,variant:"outline",children:n("quiz.interface.cancel")}),(0,f.jsx)(tt,{onClick:()=>{c<S-1?d(e=>e+1):E()},disabled:void 0===u[c],children:c===S-1?n("quiz.interface.finishQuiz"):n("quiz.interface.nextQuestion")})]})]})]})}):(0,f.jsx)(ta,{isOpen:!0,onClose:a,title:n("quiz.interface.quizError"),children:(0,f.jsxs)("div",{className:"p-6 text-center",children:[(0,f.jsx)("p",{className:"text-gray-600 mb-4",children:n("quiz.interface.noQuestionsAvailable")}),(0,f.jsx)(tt,{onClick:a,variant:"outline",children:n("quiz.interface.close")})]})})},th=function(e){let{onQuizGenerate:t}=e,{t:s}=X(),{state:r,dispatch:i,ActionTypes:a}=(0,y.n)(),[n,o]=(0,v.useState)(!1),[l,c]=(0,v.useState)(!1),[d,u]=(0,v.useState)(null),[h,g]=(0,v.useState)(!1),[p,m]=(0,v.useState)(eK),[b,w]=(0,v.useState)("gemini-2.5-flash-preview-05-20"),[S,j]=(0,v.useState)(.7),[E,k]=(0,v.useState)("ARMENIAN_COMPREHENSIVE");(0,v.useMemo)(()=>eM[E],[E]);let N=(0,v.useMemo)(()=>r.selectedArticle?e7.formatArticleContent(r.selectedArticle):null,[r.selectedArticle]),C=(0,v.useCallback)(e=>{k(e);let t=eM[e];t&&(m(t.instructions),w(t.model),j(t.temperature))},[]),A=(0,v.useCallback)(async()=>{if(!ti(r,i,a,s))return void g(!0);if(!r.selectedArticle)return void i({type:a.SET_ERROR,payload:s("quiz.errors.noArticleSelected")});o(!0);try{if(e$.initializeAPI(r.apiKeys.gemini),!N||!N.html){i({type:a.SET_ERROR,payload:s("quiz.errors.noArticleSelected")}),o(!1);return}let e=await e$.generateQuiz({instructions:p,articleContent:N.html,model:b,temperature:S});if(e.success&&e.data&&e.data.questions&&e.data.questions.length>0)u(e.data),c(!0),i({type:a.SET_SUCCESS,payload:s("quiz.errors.quizGeneratedSuccess",{count:e.data.questions.length})}),t&&t();else{let t=e.error||s("quiz.errors.generationFailed");i({type:a.SET_ERROR,payload:t})}}catch(e){console.error("Quiz generation error:",e),i({type:a.SET_ERROR,payload:e.message||s("quiz.errors.generationError")})}finally{o(!1)}},[r,i,a,s,N,p,b,S,t]);return l&&d?(0,f.jsx)(tu,{quiz:d,onComplete:e=>{var t,n;let o=(0,e9._)((0,x._)({},d),{results:e,completedAt:new Date().toISOString(),article:{title:(null==(t=r.selectedArticle)?void 0:t.title)||"Unknown Article",id:null==(n=r.selectedArticle)?void 0:n.id}});i({type:a.ADD_QUIZ_HISTORY,payload:o}),c(!1),u(null),i({type:a.SET_SUCCESS,payload:s("quiz.errors.quizCompletedSuccess",{score:e.score,total:e.totalQuestions})})},onClose:()=>{c(!1),u(null)}}):(0,f.jsxs)("div",{className:"h-full flex flex-col bg-white",children:[(0,f.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,f.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:s("quiz.generator.title")}),(0,f.jsx)("p",{className:"text-sm text-gray-600",children:s("quiz.generator.subtitle")})]}),(0,f.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:["        ",(0,f.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,f.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:s("quiz.generator.selectedArticle")}),r.selectedArticle?(0,f.jsxs)("div",{className:"text-sm",children:[(0,f.jsx)("p",{className:"font-medium text-green-700",children:r.selectedArticle.mainTitle||r.selectedArticle.shortTitle}),(0,f.jsx)("p",{className:"text-gray-600 mt-1",children:s("quiz.generator.contentAvailable",{count:(()=>{var e;let t=e7.formatArticleContent(r.selectedArticle);return(null==t||null==(e=t.plainText)?void 0:e.length)||0})()})})]}):(0,f.jsx)("p",{className:"text-sm text-amber-600",children:s("quiz.generator.noArticleSelected")})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("quiz.generator.quizTemplate")}),(0,f.jsx)("select",{value:E,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:Object.entries(eM).map(e=>{let[t,s]=e;return(0,f.jsx)("option",{value:t,children:t.replace("_"," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase())},t)})})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("quiz.generator.customInstructions")}),(0,f.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",placeholder:s("quiz.generator.instructionsPlaceholder")})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("quiz.generator.aiModel")}),(0,f.jsx)("select",{value:b,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent",children:eG.map(e=>(0,f.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:s("quiz.generator.creativityLevel",{temperature:S})}),(0,f.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:S,onChange:e=>j(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),(0,f.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,f.jsx)("span",{children:s("quiz.generator.conservative")}),(0,f.jsx)("span",{children:s("quiz.generator.balanced")}),(0,f.jsx)("span",{children:s("quiz.generator.creative")})]})]}),!r.apiKeys.gemini&&(0,f.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("svg",{className:"w-5 h-5 text-yellow-400 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,f.jsx)("p",{className:"text-sm text-yellow-800",children:s("quiz.generator.apiKeyRequired")})]}),(0,f.jsx)(tt,{variant:"warning",size:"sm",className:"mt-2",onClick:()=>g(!0),children:s("quiz.generator.setApiKey")})]})]}),(0,f.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,f.jsx)(tt,{onClick:A,disabled:!r.selectedArticle||n,loading:n,className:"w-full",children:n?(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(e8,{size:"sm"}),(0,f.jsx)("span",{className:"ml-2",children:s("quiz.generator.generatingQuiz")})]}):s("quiz.generator.generateQuiz")})}),(0,f.jsx)(eV,{isOpen:h,onClose:()=>g(!1),onSave:()=>{g(!1),ti(r,i,a,s)&&A()}})]})},tg=()=>{let{t:e}=X(),{state:t,dispatch:s,ActionTypes:r}=(0,y.n)(),[i,a]=(0,v.useState)([]),[n,o]=(0,v.useState)(null),[l,c]=(0,v.useState)(!1),d=(0,v.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";"success"===t?s({type:r.SET_SUCCESS,payload:e}):s({type:r.SET_ERROR,payload:e})},[s,r]),u=(0,v.useCallback)(()=>{try{let e=window.localStorage?localStorage.getItem("quiz_history"):null;if(e){let t=JSON.parse(e);a(t.sort((e,t)=>new Date(t.completedAt)-new Date(e.completedAt)))}}catch(t){console.error("Error loading quiz history:",t),d(e("quiz.history.loadError"),"error")}},[e,d]);(0,v.useEffect)(()=>{u()},[u]);let h=t=>{if(window.confirm(e("quiz.history.confirmDeleteQuiz"))){let s=i.filter(e=>e.id!==t);a(s),localStorage.setItem("quiz_history",JSON.stringify(s)),d(e("quiz.history.quizDeleted"),"success")}},g=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),p=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",m=t=>t>=80?e("quiz.history.excellent"):t>=60?e("quiz.history.good"):e("quiz.history.needsImprovement"),x=(()=>{if(0===i.length)return null;let e=i.length,t=Math.round(i.reduce((e,t)=>e+t.score,0)/e),s=Math.max(...i.map(e=>e.score)),r=i.slice(0,5);return{totalQuizzes:e,averageScore:t,bestScore:s,recentAverage:Math.round(r.reduce((e,t)=>e+t.score,0)/r.length)}})();return 0===i.length?(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[(0,f.jsx)("div",{className:"text-gray-400 mb-4",children:(0,f.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),"          ",(0,f.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e("quiz.history.noHistoryTitle")}),(0,f.jsx)("p",{className:"text-gray-600 mb-4",children:e("quiz.history.noHistoryMessage")})]}):(0,f.jsxs)("div",{className:"space-y-6",children:[x&&(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:e("quiz.history.statistics")}),(0,f.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:x.totalQuizzes}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:e("quiz.history.totalQuizzes")})]}),(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[x.averageScore,"%"]}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:e("quiz.history.averageScore")})]}),(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[x.bestScore,"%"]}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:e("quiz.history.bestScore")})]}),(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsxs)("div",{className:"text-2xl font-bold text-orange-600",children:[x.recentAverage,"%"]}),(0,f.jsx)("div",{className:"text-sm text-gray-600",children:e("quiz.history.recentAverage")})]})]})]}),(0,f.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,f.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,f.jsxs)("div",{className:"flex justify-between items-center",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e("quiz.history.title")}),(0,f.jsx)(tt,{onClick:()=>{window.confirm(e("quiz.history.confirmClearHistory"))&&(localStorage.removeItem("quiz_history"),a([]),d(e("quiz.history.historyCleared"),"success"))},variant:"outline",size:"sm",children:e("quiz.history.clearHistory")})]})}),(0,f.jsx)("div",{className:"divide-y divide-gray-200",children:i.map(t=>(0,f.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,f.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,f.jsx)("h4",{className:"text-sm font-medium text-gray-900 truncate",children:t.title||e("quiz.history.untitledQuiz")}),(0,f.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(p(t.score)),children:[t.score,"% • ",m(t.score)]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,f.jsx)("span",{children:e("quiz.history.correctAnswers",{correct:t.correctAnswers||0,total:t.totalQuestions||0})}),(0,f.jsx)("span",{children:g(t.completedAt)}),t.model&&(0,f.jsx)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:t.model})]})]}),(0,f.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,f.jsx)(tt,{onClick:()=>{o(t),c(!0)},variant:"outline",size:"sm",children:e("quiz.history.viewDetails")}),(0,f.jsx)(tt,{onClick:()=>h(t.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:border-red-300",children:e("quiz.history.delete")})]})]})},t.id))})]}),l&&n&&(0,f.jsx)(ta,{isOpen:l,onClose:()=>c(!1),title:e("quiz.history.quizDetails"),size:"lg",children:(0,f.jsxs)("div",{className:"p-6",children:[(0,f.jsxs)("div",{className:"mb-6",children:[(0,f.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:n.title||e("quiz.history.untitledQuiz")}),(0,f.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,f.jsx)("span",{children:e("quiz.history.completedOn",{date:g(n.completedAt)})}),(0,f.jsx)("span",{children:e("quiz.history.score",{score:n.score})}),(0,f.jsx)("span",{children:e("quiz.history.questions",{count:n.totalQuestions})}),n.model&&(0,f.jsx)("span",{children:e("quiz.history.model",{model:n.model})})]})]}),n.questions&&n.answers&&(0,f.jsx)("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:n.questions.map((t,s)=>{let r=n.answers[s],i=r===t.correctAnswer;return(0,f.jsx)("div",{className:"border rounded-lg p-4",children:(0,f.jsxs)("div",{className:"flex items-start gap-3",children:[(0,f.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-sm ".concat(i?"bg-green-500":"bg-red-500"),children:i?"✓":"✗"}),(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsxs)("p",{className:"font-medium text-gray-900 mb-2",children:[s+1,". ",t.question]}),(0,f.jsx)("div",{className:"space-y-1 text-sm",children:t.options.map((s,a)=>(0,f.jsxs)("div",{className:"p-2 rounded ".concat(a===t.correctAnswer?"bg-green-100 text-green-800":a!==r||i?"text-gray-600":"bg-red-100 text-red-800"),children:[String.fromCharCode(65+a),". ",s,a===t.correctAnswer&&" ".concat(e("quiz.history.correctAnswer")),a===r&&!i&&" ".concat(e("quiz.history.yourAnswer"))]},a))})]})]})},s)})}),(0,f.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:(0,f.jsx)(tt,{onClick:()=>c(!1),children:e("quiz.history.close")})})]})})]})},tp=function(){let{state:e}=(0,y.n)();return e.loading?(0,f.jsx)("main",{className:"flex-1 flex items-center justify-center bg-gray-50",children:(0,f.jsx)(e8,{})}):(0,f.jsx)("main",{className:"flex-1 overflow-hidden bg-gray-50",children:"explorer"===e.activeTab?(0,f.jsx)(td,{}):"quiz"===e.activeTab?(0,f.jsx)(th,{}):"history"===e.activeTab?(0,f.jsx)("div",{className:"h-full overflow-y-auto p-6",children:(0,f.jsx)(tg,{})}):(0,f.jsx)(td,{})})};class tm{async signIn(e,t){try{var s;let r=await fetch("".concat(eP.IDENTITY_BASE_URL,"/User/SignIn"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),i=await r.json();if(r.ok&&i.accepted&&i.data&&i.data.length>0){let t=i.data[0];return localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("userEmail",e),{success:!0,data:{user:{email:e},accessToken:t.accessToken}}}return{success:!1,error:(null==(s=i.errorMessages)?void 0:s.join(", "))||"Մուտքը ձախողվեց։ Ստուգեք ձեր տվյալները։"}}catch(e){return console.error("Login error:",e),{success:!1,error:"Մուտքի ժամանակ տեղի ունեցավ սխալ։"}}}async signOut(){return window.localStorage&&(localStorage.removeItem("accessToken"),localStorage.removeItem("userEmail")),{success:!0}}getStoredToken(){return window.localStorage?localStorage.getItem("accessToken"):null}getStoredEmail(){return window.localStorage?localStorage.getItem("userEmail"):null}}let tx=new tm,tf=function(){let{t:e}=X(),{dispatch:t,ActionTypes:s}=(0,y.n)(),[r,i]=(0,v.useState)({email:"",password:""}),[a,n]=(0,v.useState)(!1),o=async i=>{if(i.preventDefault(),!r.email||!r.password)return void t({type:s.SET_ERROR,payload:e("auth.requiredFields")});n(!0);try{let i=await tx.signIn(r.email,r.password);i.success?(t({type:s.SET_AUTH,payload:i.data}),t({type:s.SET_SUCCESS,payload:e("auth.loginSuccess")})):t({type:s.SET_ERROR,payload:i.error})}catch(r){t({type:s.SET_ERROR,payload:e("auth.loginError")})}finally{n(!1)}},l=e=>{i(t=>(0,e9._)((0,x._)({},t),{[e.target.name]:e.target.value}))},c=(e,t)=>{"Enter"===e.key&&(e.preventDefault(),t?document.getElementById(t).focus():o(e))};return(0,f.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-100",children:[(0,f.jsxs)("div",{className:"text-center mb-8",children:[(0,f.jsx)("div",{className:"flex justify-end mb-4",children:(0,f.jsx)(e5,{})}),(0,f.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-sky-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:(0,f.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,f.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),(0,f.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e("auth.welcome")}),(0,f.jsx)("p",{className:"text-gray-600",children:e("auth.appName")})]}),(0,f.jsxs)("form",{onSubmit:o,className:"space-y-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:e("auth.email")}),(0,f.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:r.email,onChange:l,onKeyPress:e=>c(e,"password"),placeholder:e("auth.emailPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors bg-gray-50 focus:bg-white",disabled:a})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:e("auth.password")}),(0,f.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:r.password,onChange:l,onKeyPress:e=>c(e),placeholder:e("auth.passwordPlaceholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 transition-colors bg-gray-50 focus:bg-white",disabled:a})]}),(0,f.jsx)("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-sky-500 to-sky-600 hover:from-sky-600 hover:to-sky-700 disabled:from-sky-300 disabled:to-sky-400 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 transform hover:scale-[1.02] disabled:scale-100 shadow-lg hover:shadow-xl disabled:shadow-md",children:a?(0,f.jsxs)("div",{className:"flex items-center justify-center",children:[(0,f.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e("auth.loggingIn")]}):e("auth.login")})]}),"      ",(0,f.jsx)("div",{className:"mt-8 text-center",children:(0,f.jsxs)("p",{className:"text-sm text-gray-500",children:[e("auth.poweredBy")," ",(0,f.jsx)("a",{href:"https://visualarmenia.org/",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-sky-600 hover:text-sky-700 transition-colors",children:"VAF"})]})})]})},ty=function(){let{state:e,dispatch:t,ActionTypes:s}=(0,y.n)();if((0,v.useEffect)(()=>{if(e.error||e.success){let e=setTimeout(()=>{t({type:s.CLEAR_MESSAGES})},5e3);return()=>clearTimeout(e)}},[e.error,e.success,t,s]),!e.error&&!e.success)return null;let r=e.error||e.success,i=!!e.error;return(0,f.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 max-w-md w-full mx-4",children:(0,f.jsx)("div",{className:"\n          p-4 rounded-lg shadow-lg border transition-all duration-300 ease-in-out\n          ".concat(i?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800","\n        "),children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)("div",{className:"flex-shrink-0",children:i?(0,f.jsx)("svg",{className:"w-5 h-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):(0,f.jsx)("svg",{className:"w-5 h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,f.jsx)("div",{className:"ml-3 flex-1",children:(0,f.jsx)("p",{className:"text-sm font-medium",children:r})}),(0,f.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,f.jsxs)("button",{onClick:()=>t({type:s.CLEAR_MESSAGES}),className:"\n                rounded-md p-1.5 inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2\n                ".concat(i?"text-red-500 hover:bg-red-100 focus:ring-red-500":"text-green-500 hover:bg-green-100 focus:ring-green-500","\n              "),children:[(0,f.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,f.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,f.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})})},tv=v.memo(function(e){let{children:t}=e,{state:s}=(0,y.n)();return s.isAuthenticated?(0,f.jsxs)("div",{className:"h-screen flex flex-col bg-slate-50 overflow-hidden",children:[(0,f.jsx)(e3,{}),(0,f.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,f.jsx)(tr,{}),(0,f.jsx)(tp,{})]}),(0,f.jsx)(ty,{}),t]}):(0,f.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-indigo-100 flex items-center justify-center p-4",children:[(0,f.jsx)(tf,{}),(0,f.jsx)(ty,{})]})}),tb=function(e){let{children:t}=e,{ready:s,i18n:r}=X(),[i,a]=(0,v.useState)("en"),[n,o]=(0,v.useState)(!1);return((0,v.useEffect)(()=>{o(!0),a(r.language);let e=e=>{a(e)};return r.on("languageChanged",e),()=>{r.off("languageChanged",e)}},[r]),s&&n)?(0,f.jsx)("div",{children:t},i):(0,f.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,f.jsx)(e8,{})})};var tw=s(7328),tS=s.n(tw);s(7790);let tj=e=>"string"==typeof e,tE=()=>{let e,t,s=new Promise((s,r)=>{e=s,t=r});return s.resolve=e,s.reject=t,s},tk=e=>null==e?"":""+e,tN=(e,t,s)=>{e.forEach(e=>{t[e]&&(s[e]=t[e])})},tC=/###/g,tA=e=>e&&e.indexOf("###")>-1?e.replace(tC,"."):e,tI=e=>!e||tj(e),tL=(e,t,s)=>{let r=tj(t)?t.split("."):t,i=0;for(;i<r.length-1;){if(tI(e))return{};let t=tA(r[i]);!e[t]&&s&&(e[t]=new s),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return tI(e)?{}:{obj:e,k:tA(r[i])}},tT=(e,t,s)=>{let{obj:r,k:i}=tL(e,t,Object);if(void 0!==r||1===t.length){r[i]=s;return}let a=t[t.length-1],n=t.slice(0,t.length-1),o=tL(e,n,Object);for(;void 0===o.obj&&n.length;)a=`${n[n.length-1]}.${a}`,o=tL(e,n=n.slice(0,n.length-1),Object),o?.obj&&void 0!==o.obj[`${o.k}.${a}`]&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=s},tO=(e,t,s,r)=>{let{obj:i,k:a}=tL(e,t,Object);i[a]=i[a]||[],i[a].push(s)},tR=(e,t)=>{let{obj:s,k:r}=tL(e,t);if(s&&Object.prototype.hasOwnProperty.call(s,r))return s[r]},tz=(e,t,s)=>{let r=tR(e,s);return void 0!==r?r:tR(t,s)},tP=(e,t,s)=>{for(let r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?tj(e[r])||e[r]instanceof String||tj(t[r])||t[r]instanceof String?s&&(e[r]=t[r]):tP(e[r],t[r],s):e[r]=t[r]);return e},t_=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tq={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let tM=e=>tj(e)?e.replace(/[&<>"'\/]/g,e=>tq[e]):e;class tD{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}let tH=[" ",",","?","!",";"],tG=new tD(20),tK=(e,t,s)=>{t=t||"",s=s||"";let r=tH.filter(e=>0>t.indexOf(e)&&0>s.indexOf(e));if(0===r.length)return!0;let i=tG.getRegExp(`(${r.map(e=>"?"===e?"\\?":e).join("|")})`),a=!i.test(e);if(!a){let t=e.indexOf(s);t>0&&!i.test(e.substring(0,t))&&(a=!0)}return a},tF=(e,t,s=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}let r=t.split(s),i=e;for(let e=0;e<r.length;){let t;if(!i||"object"!=typeof i)return;let a="";for(let n=e;n<r.length;++n)if(n!==e&&(a+=s),a+=r[n],void 0!==(t=i[a])){if(["string","number","boolean"].indexOf(typeof t)>-1&&n<r.length-1)continue;e+=n-e+1;break}i=t}return i},tU=e=>e?.replace("_","-"),t$={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class tQ{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||t$,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,r){return r&&!this.debug?null:(tj(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new tQ(this.logger,{...{prefix:`${this.prefix}:${e}:`},...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new tQ(this.logger,e)}}var tB=new tQ;class tV{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let s=this.observers[e].get(t)||0;this.observers[e].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([e,s])=>{for(let r=0;r<s;r++)e(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,r])=>{for(let i=0;i<r;i++)s.apply(s,[e,...t])})}}class tW extends tV{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,r={}){let i,a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,n=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],s&&(Array.isArray(s)?i.push(...s):tj(s)&&a?i.push(...s.split(a)):i.push(s)));let o=tR(this.data,i);return(!o&&!t&&!s&&e.indexOf(".")>-1&&(e=i[0],t=i[1],s=i.slice(2).join(".")),!o&&n&&tj(s))?tF(this.data?.[e]?.[t],s,a):o}addResource(e,t,s,r,i={silent:!1}){let a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,n=[e,t];s&&(n=n.concat(a?s.split(a):s)),e.indexOf(".")>-1&&(n=e.split("."),r=t,t=n[1]),this.addNamespaces(t),tT(this.data,n,r),i.silent||this.emit("added",e,t,s,r)}addResources(e,t,s,r={silent:!1}){for(let r in s)(tj(s[r])||Array.isArray(s[r]))&&this.addResource(e,t,r,s[r],{silent:!0});r.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,r,i,a={silent:!1,skipCopy:!1}){let n=[e,t];e.indexOf(".")>-1&&(n=e.split("."),r=s,s=t,t=n[1]),this.addNamespaces(t);let o=tR(this.data,n)||{};a.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?tP(o,s,i):o={...o,...s},tT(this.data,n,o),a.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var tY={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,s,r,i){return e.forEach(e=>{t=this.processors[e]?.process(t,s,r,i)??t}),t}};let tJ={},tZ=e=>!tj(e)&&"boolean"!=typeof e&&"number"!=typeof e;class tX extends tV{constructor(e,t={}){super(),tN(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=tB.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){let s={...t};if(null==e)return!1;let r=this.resolve(e,s);return r?.res!==void 0}extractFromKey(e,t){let s=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===s&&(s=":");let r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],a=s&&e.indexOf(s)>-1,n=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!tK(e,s,r);if(a&&!n){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:tj(i)?[i]:i};let a=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return{key:e,namespaces:tj(i)?[i]:i}}translate(e,t,s){let r="object"==typeof t?{...t}:t;if("object"!=typeof r&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof options&&(r={...r}),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==r.returnDetails?r.returnDetails:this.options.returnDetails,a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,{key:n,namespaces:o}=this.extractFromKey(e[e.length-1],r),l=o[o.length-1],c=void 0!==r.nsSeparator?r.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");let d=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return u?i?{res:`${l}${c}${n}`,usedKey:n,exactUsedKey:n,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${c}${n}`:i?{res:n,usedKey:n,exactUsedKey:n,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:n;let h=this.resolve(e,r),g=h?.res,p=h?.usedKey||n,m=h?.exactUsedKey||n,x=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==r.count&&!tj(r.count),v=tX.hasDefaultValue(r),b=y?this.pluralResolver.getSuffix(d,r.count,r):"",w=r.ordinal&&y?this.pluralResolver.getSuffix(d,r.count,{ordinal:!1}):"",S=y&&!r.ordinal&&0===r.count,j=S&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${b}`]||r[`defaultValue${w}`]||r.defaultValue,E=g;f&&!g&&v&&(E=j);let k=tZ(E),N=Object.prototype.toString.apply(E);if(f&&E&&k&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(N)&&!(tj(x)&&Array.isArray(E))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,E,{...r,ns:o}):`key '${n} (${this.language})' returned an object instead of string.`;return i?(h.res=e,h.usedParams=this.getUsedParamsDetails(r),h):e}if(a){let e=Array.isArray(E),t=e?[]:{},s=e?m:p;for(let e in E)if(Object.prototype.hasOwnProperty.call(E,e)){let i=`${s}${a}${e}`;v&&!g?t[e]=this.translate(i,{...r,defaultValue:tZ(j)?j[e]:void 0,...{joinArrays:!1,ns:o}}):t[e]=this.translate(i,{...r,joinArrays:!1,ns:o}),t[e]===i&&(t[e]=E[e])}g=t}}else if(f&&tj(x)&&Array.isArray(g))(g=g.join(x))&&(g=this.extendTranslation(g,e,r,s));else{let t=!1,i=!1;!this.isValidLookup(g)&&v&&(t=!0,g=j),this.isValidLookup(g)||(i=!0,g=n);let o=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:g,u=v&&j!==g&&this.options.updateMissing;if(i||t||u){if(this.logger.log(u?"updateKey":"missingKey",d,l,n,u?j:g),a){let e=this.resolve(n,{...r,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let s=0;s<t.length;s++)e.push(t[s]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(r.lng||this.language):e.push(r.lng||this.language);let s=(e,t,s)=>{let i=v&&s!==g?s:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,i,u,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(e,l,t,i,u,r),this.emit("missingKey",e,l,t,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{let t=this.pluralResolver.getSuffixes(e,r);S&&r[`defaultValue${this.options.pluralSeparator}zero`]&&0>t.indexOf(`${this.options.pluralSeparator}zero`)&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{s([e],n+t,r[`defaultValue${t}`]||j)})}):s(e,n,j))}g=this.extendTranslation(g,e,r,h,s),i&&g===n&&this.options.appendNamespaceToMissingKey&&(g=`${l}${c}${n}`),(i||t)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${n}`:n,t?g:void 0,r))}return i?(h.res=g,h.usedParams=this.getUsedParamsDetails(r),h):g}extendTranslation(e,t,s,r,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){let a;s.interpolation&&this.interpolator.init({...s,...{interpolation:{...this.options.interpolation,...s.interpolation}}});let n=tj(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(n){let t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let o=s.replace&&!tj(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),e=this.interpolator.interpolate(e,o,s.lng||this.language||r.usedLng,s),n){let t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(s.nest=!1)}!s.lng&&r&&r.res&&(s.lng=this.language||r.usedLng),!1!==s.nest&&(e=this.interpolator.nest(e,(...e)=>i?.[0]!==e[0]||s.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),s)),s.interpolation&&this.interpolator.reset()}let a=s.postProcess||this.options.postProcess,n=tj(a)?[a]:a;return null!=e&&n?.length&&!1!==s.applyPostProcessor&&(e=tY.handle(n,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,r,i,a,n;return tj(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(s))return;let o=this.extractFromKey(e,t),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let d=void 0!==t.count&&!tj(t.count),u=d&&!t.ordinal&&0===t.count,h=void 0!==t.context&&(tj(t.context)||"number"==typeof t.context)&&""!==t.context,g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{this.isValidLookup(s)||(n=e,!tJ[`${g[0]}-${e}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(n)&&(tJ[`${g[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${g.join(", ")}" won't get resolved as namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(r=>{let n;if(this.isValidLookup(s))return;a=r;let o=[l];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,r,e,t);else{let e;d&&(e=this.pluralResolver.getSuffix(r,t.count,t));let s=`${this.options.pluralSeparator}zero`,i=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(o.push(l+e),t.ordinal&&0===e.indexOf(i)&&o.push(l+e.replace(i,this.options.pluralSeparator)),u&&o.push(l+s)),h){let r=`${l}${this.options.contextSeparator}${t.context}`;o.push(r),d&&(o.push(r+e),t.ordinal&&0===e.indexOf(i)&&o.push(r+e.replace(i,this.options.pluralSeparator)),u&&o.push(r+s))}}for(;n=o.pop();)this.isValidLookup(s)||(i=n,s=this.getResource(r,e,n,t))}))})}),{res:s,usedKey:r,exactUsedKey:i,usedLng:a,usedNS:n}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,s,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,r):this.resourceStore.getResource(e,t,s,r)}getUsedParamsDetails(e={}){let t=e.replace&&!tj(e.replace),s=t?e.replace:e;if(t&&void 0!==e.count&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!t)for(let e of(s={...s},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete s[e];return s}static hasDefaultValue(e){let t="defaultValue";for(let s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&void 0!==e[s])return!0;return!1}}class t0{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tB.create("languageUtils")}getScriptPartFromCode(e){if(!(e=tU(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=tU(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(tj(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(e){}return(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)?t:this.options.lowerCaseLng?e.toLowerCase():e}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let s=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let s=this.getScriptPartFromCode(e);if(this.isSupportedCode(s))return t=s;let r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>{if(e===r||!(0>e.indexOf("-")&&0>r.indexOf("-"))&&(e.indexOf("-")>0&&0>r.indexOf("-")&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),tj(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){let s=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return tj(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):tj(e)&&i(this.formatLanguageCode(e)),s.forEach(e=>{0>r.indexOf(e)&&i(this.formatLanguageCode(e))}),r}}let t1={zero:0,one:1,two:2,few:3,many:4,other:5},t2={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class t4{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=tB.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){let s,r=tU("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];try{s=new Intl.PluralRules(r,{type:i})}catch(i){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),t2;if(!e.match(/-|_/))return t2;let r=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(r,t)}return this.pluralRulesCache[a]=s,s}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return(s||(s=this.getRule("dev",t)),s)?s.resolvedOptions().pluralCategories.sort((e,t)=>t1[e]-t1[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,s={}){let r=this.getRule(e,s);return r?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}let t5=(e,t,s,r=".",i=!0)=>{let a=tz(e,t,s);return!a&&i&&tj(s)&&void 0===(a=tF(e,s,r))&&(a=tF(t,s,r)),a},t3=e=>e.replace(/\$/g,"$$$$");class t6{constructor(e={}){this.logger=tB.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:s,useRawValueToEscape:r,prefix:i,prefixEscaped:a,suffix:n,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:x,alwaysFormat:f}=e.interpolation;this.escape=void 0!==t?t:tM,this.escapeValue=void 0===s||s,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?t_(i):a||"{{",this.suffix=n?t_(n):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?t_(u):h||t_("$t("),this.nestingSuffix=g?t_(g):p||t_(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=x||1e3,this.alwaysFormat=void 0!==f&&f,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e?.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,r){let i,a,n,o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(0>e.indexOf(this.formatSeparator)){let i=t5(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,s,{...r,...t,interpolationkey:e}):i}let i=e.split(this.formatSeparator),a=i.shift().trim(),n=i.join(this.formatSeparator).trim();return this.format(t5(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),n,s,{...r,...t,interpolationkey:a})};this.resetRegExp();let c=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>t3(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?t3(this.escape(e)):t3(e)}].forEach(t=>{for(n=0;i=t.regex.exec(e);){let s=i[1].trim();if(void 0===(a=l(s)))if("function"==typeof c){let t=c(e,i,r);a=tj(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,s))a="";else if(d){a=i[0];continue}else this.logger.warn(`missed to pass in variable ${s} for interpolating ${e}`),a="";else tj(a)||this.useRawValueToEscape||(a=tk(a));let o=t.safeValue(a);if(e=e.replace(i[0],o),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++n>=this.maxReplaces)break}}),e}nest(e,t,s={}){let r,i,a,n=(e,t)=>{let s=this.nestingOptionsSeparator;if(0>e.indexOf(s))return e;let r=e.split(RegExp(`${s}[ ]*{`)),i=`{${r[1]}`;e=r[0];let n=(i=this.interpolate(i,a)).match(/'/g),o=i.match(/"/g);((n?.length??0)%2!=0||o)&&o.length%2==0||(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${s}${i}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];(a=(a={...s}).replace&&!tj(a.replace)?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let l=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),o=e,l=!0}if((i=t(n.call(this,r[1].trim(),a),a))&&r[0]===e&&!tj(i))return i;tj(i)||(i=tk(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),l&&(i=o.reduce((e,t)=>this.format(e,t,s.lng,{...s,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}let t7=e=>{let t=e.toLowerCase().trim(),s={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);"currency"===t&&0>i.indexOf(":")?s.currency||(s.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?s.range||(s.range=i.trim()):i.split(";").forEach(e=>{if(e){let[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();s[a]||(s[a]=i),"false"===i&&(s[a]=!1),"true"===i&&(s[a]=!0),isNaN(i)||(s[a]=parseInt(i,10))}})}return{formatName:t,formatOptions:s}},t8=e=>{let t={};return(s,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});let n=r+JSON.stringify(a),o=t[n];return o||(o=e(tU(r),i),t[n]=o),o(s)}},t9=e=>(t,s,r)=>e(tU(s),r)(t);class se{constructor(e={}){this.logger=tB.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";let s=t.cacheInBuiltFormats?t8:t9;this.formats={number:s((e,t)=>{let s=new Intl.NumberFormat(e,{...t});return e=>s.format(e)}),currency:s((e,t)=>{let s=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>s.format(e)}),datetime:s((e,t)=>{let s=new Intl.DateTimeFormat(e,{...t});return e=>s.format(e)}),relativetime:s((e,t)=>{let s=new Intl.RelativeTimeFormat(e,{...t});return e=>s.format(e,t.range||"day")}),list:s((e,t)=>{let s=new Intl.ListFormat(e,{...t});return e=>s.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=t8(t)}format(e,t,s,r={}){let i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&0>i[0].indexOf(")")&&i.find(e=>e.indexOf(")")>-1)){let e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{let{formatName:i,formatOptions:a}=t7(t);if(this.formats[i]){let t=e;try{let n=r?.formatParams?.[r.interpolationkey]||{},o=n.locale||n.lng||r.locale||r.lng||s;t=this.formats[i](e,o,{...a,...r,...n})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}let st=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class ss extends tV{constructor(e,t,s,r={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=tB.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,r.backend,r)}queueLoad(e,t,s,r){let i={},a={},n={},o={};return e.forEach(e=>{let r=!0;t.forEach(t=>{let n=`${e}|${t}`;!s.reload&&this.store.hasResourceBundle(e,t)?this.state[n]=2:this.state[n]<0||(1===this.state[n]?void 0===a[n]&&(a[n]=!0):(this.state[n]=1,r=!1,void 0===a[n]&&(a[n]=!0),void 0===i[n]&&(i[n]=!0),void 0===o[t]&&(o[t]=!0)))}),r||(n[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(n),toLoadNamespaces:Object.keys(o)}}loaded(e,t,s){let r=e.split("|"),i=r[0],a=r[1];t&&this.emit("failedLoading",i,a,t),!t&&s&&this.store.addResourceBundle(i,a,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);let n={};this.queue.forEach(s=>{tO(s.loaded,[i],a),st(s,e),t&&s.errors.push(t),0!==s.pendingCount||s.done||(Object.keys(s.loaded).forEach(e=>{n[e]||(n[e]={});let t=s.loaded[e];t.length&&t.forEach(t=>{void 0===n[e][t]&&(n[e][t]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",n),this.queue=this.queue.filter(e=>!e.done)}read(e,t,s,r=0,i=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:s,tried:r,wait:i,callback:a});this.readingCalls++;let n=(n,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(n&&o&&r<this.maxRetries)return void setTimeout(()=>{this.read.call(this,e,t,s,r+1,2*i,a)},i);a(n,o)},o=this.backend[s].bind(this.backend);if(2===o.length){try{let s=o(e,t);s&&"function"==typeof s.then?s.then(e=>n(null,e)).catch(n):n(null,s)}catch(e){n(e)}return}return o(e,t,n)}prepareLoading(e,t,s={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();tj(e)&&(e=this.languageUtils.toResolveHierarchy(e)),tj(t)&&(t=[t]);let i=this.queueLoad(e,t,s,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){let s=e.split("|"),r=s[0],i=s[1];this.read(r,i,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,s),!s&&a&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,a),this.loaded(e,s,a)})}saveMissing(e,t,s,r,i,a={},n=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t))return void this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");if(null!=s&&""!==s){if(this.backend?.create){let o={...a,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;(i=5===l.length?l(e,t,s,r,o):l(e,t,s,r))&&"function"==typeof i.then?i.then(e=>n(null,e)).catch(n):n(null,i)}catch(e){n(e)}else l(e,t,s,r,n,o)}e&&e[0]&&this.store.addResource(e[0],t,s,r)}}}let sr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),tj(e[1])&&(t.defaultValue=e[1]),tj(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let s=e[3]||e[2];Object.keys(s).forEach(e=>{t[e]=s[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),si=e=>(tj(e.ns)&&(e.ns=[e.ns]),tj(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),tj(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e),sa=()=>{},sn=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class so extends tV{constructor(e={},t){if(super(),this.options=si(e),this.services={},this.logger=tB,this.modules={external:[]},sn(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(tj(e.ns)?e.defaultNS=e.ns:0>e.ns.indexOf("translation")&&(e.defaultNS=e.ns[0]));let s=sr();this.options={...s,...this.options,...si(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator);let r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?tB.init(r(this.modules.logger),this.options):tB.init(null,this.options),e=this.modules.formatter?this.modules.formatter:se;let t=new t0(this.options);this.store=new tW(this.options.resources,this.options);let i=this.services;i.logger=tB,i.resourceStore=this.store,i.languageUtils=t,i.pluralResolver=new t4(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),e&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(i.formatter=r(e),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new t6(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new ss(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new tX(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=sa),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});let i=tE(),a=()=>{let e=(e,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(s),t(e,s)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?a():setTimeout(a,0),i}loadResources(e,t=sa){let s=t,r=tj(e)?e:this.language;if("function"==typeof e&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||0===this.options.preload.length))return s();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};r?t(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload?.forEach?.(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),s(e)})}else s(null)}reloadResources(e,t,s){let r=tE();return"function"==typeof e&&(s=e,e=void 0),"function"==typeof t&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=sa),this.services.backendConnector.reload(e,t,e=>{r.resolve(),s(e)}),r}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&tY.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&0>this.languages.indexOf(e)&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;let s=tE();this.emit("languageChanging",e);let r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(i,a)=>{a?this.isLanguageChangingTo===e&&(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,s.resolve((...e)=>this.t(...e)),t&&t(i,(...e)=>this.t(...e))},a=t=>{e||t||!this.services.languageDetector||(t=[]);let s=tj(t)?t:t&&t[0],a=this.store.hasLanguageSomeTranslations(s)?s:this.services.languageUtils.getBestMatchFromCodes(tj(t)?[t]:t);a&&(this.language||r(a),this.translator.language||this.translator.changeLanguage(a),this.services.languageDetector?.cacheUserLanguage?.(a)),this.loadResources(a,e=>{i(e,a)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),s}getFixedT(e,t,s){let r=(e,t,...i)=>{let a,n;(a="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(i)):{...t}).lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||s||r.keyPrefix);let o=this.options.keySeparator||".";return n=a.keyPrefix&&Array.isArray(e)?e.map(e=>`${a.keyPrefix}${o}${e}`):a.keyPrefix?`${a.keyPrefix}${o}${e}`:e,this.t(n,a)};return tj(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=s,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let s=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===s.toLowerCase())return!0;let a=(e,t)=>{let s=this.services.backendConnector.state[`${e}|${t}`];return -1===s||0===s||2===s};if(t.precheck){let e=t.precheck(this,a);if(void 0!==e)return e}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(s,e)&&(!r||a(i,e)))}loadNamespaces(e,t){let s=tE();return this.options.ns?(tj(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){let s=tE();tj(e)&&(e=[e]);let r=this.options.preload||[],i=e.filter(e=>0>r.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=r.concat(i),this.loadResources(e=>{s.resolve(),t&&t(e)}),s):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services?.languageUtils||new t0(sr())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(e={},t){return new so(e,t)}cloneInstance(e={},t=sa){let s=e.forkResourceStore;s&&delete e.forkResourceStore;let r={...this.options,...e,isClone:!0},i=new so(r);return(void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s&&(i.store=new tW(Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((s,r)=>(s[r]={...e[t][r]},s),e[t]),e),{}),r),i.services.resourceStore=i.store),i.translator=new tX(i.services,r),i.translator.on("*",(e,...t)=>{i.emit(e,...t)}),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let sl=so.createInstance();sl.createInstance=so.createInstance,sl.createInstance,sl.dir,sl.init,sl.loadResources,sl.reloadResources,sl.use,sl.changeLanguage,sl.getFixedT,sl.t,sl.exists,sl.setDefaultNamespace,sl.hasLoadedNamespace,sl.loadNamespaces,sl.loadLanguages;let{slice:sc,forEach:sd}=[],su=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,sh=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},r=encodeURIComponent(t),i=`${e}=${r}`;if(s.maxAge>0){let e=s.maxAge-0;if(Number.isNaN(e))throw Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(e)}`}if(s.domain){if(!su.test(s.domain))throw TypeError("option domain is invalid");i+=`; Domain=${s.domain}`}if(s.path){if(!su.test(s.path))throw TypeError("option path is invalid");i+=`; Path=${s.path}`}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");i+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return s.partitioned&&(i+="; Partitioned"),i},sg={create(e,t,s,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};s&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*s*1e3)),r&&(i.domain=r),document.cookie=sh(e,encodeURIComponent(t),i)},read(e){let t=`${e}=`,s=document.cookie.split(";");for(let e=0;e<s.length;e++){let r=s[e];for(;" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},remove(e){this.create(e,"",-1)}};var sp={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return sg.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:s,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=t;s&&"undefined"!=typeof document&&sg.create(s,e,r,i,a)}},sm={name:"querystring",lookup(e){let t,{lookupQuerystring:s}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));let r=e.substring(1).split("&");for(let e=0;e<r.length;e++){let i=r[e].indexOf("=");i>0&&r[e].substring(0,i)===s&&(t=r[e].substring(i+1))}}return t}};let sx=null,sf=()=>{if(null!==sx)return sx;try{if(!(sx="undefined"!=typeof window&&null!==window.localStorage))return!1;let e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){sx=!1}return sx};var sy={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&sf())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:s}=t;s&&sf()&&window.localStorage.setItem(s,e)}};let sv=null,sb=()=>{if(null!==sv)return sv;try{if(!(sv="undefined"!=typeof window&&null!==window.sessionStorage))return!1;let e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){sv=!1}return sv};var sw={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&sb())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:s}=t;s&&sb()&&window.sessionStorage.setItem(s,e)}},sS={name:"navigator",lookup(e){let t=[];if("undefined"!=typeof navigator){let{languages:e,userLanguage:s,language:r}=navigator;if(e)for(let s=0;s<e.length;s++)t.push(e[s]);s&&t.push(s),r&&t.push(r)}return t.length>0?t:void 0}},sj={name:"htmlTag",lookup(e){let t,{htmlTag:s}=e,r=s||("undefined"!=typeof document?document.documentElement:null);return r&&"function"==typeof r.getAttribute&&(t=r.getAttribute("lang")),t}},sE={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if("undefined"==typeof window)return;let s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(Array.isArray(s))return s["number"==typeof t?t:0]?.replace("/","")}},sk={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e,s="undefined"!=typeof window&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s["number"==typeof t?t+1:1]}};let sN=!1;try{document.cookie,sN=!0}catch(e){}let sC=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];sN||sC.splice(1,1);let sA=()=>({order:sC,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class sI{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return sd.call(sc.call(arguments,1),t=>{if(t)for(let s in t)void 0===e[s]&&(e[s]=t[s])}),e}(t,this.options||{},sA()),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(sp),this.addDetector(sm),this.addDetector(sy),this.addDetector(sw),this.addDetector(sS),this.addDetector(sj),this.addDetector(sE),this.addDetector(sk)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return(e.forEach(e=>{if(this.detectors[e]){let s=this.detectors[e].lookup(this.options);s&&"string"==typeof s&&(s=[s]),s&&(t=t.concat(s))}}),t=t.filter(e=>null!=e&&!("string"==typeof e&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(e)))).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes)?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}sI.type="languageDetector";let sL=JSON.parse('{"common":{"loading":"Loading...","error":"Error","success":"Success","cancel":"Cancel","close":"Close","save":"Save","delete":"Delete","edit":"Edit","back":"Back","next":"Next","previous":"Previous","confirm":"Confirm","yes":"Yes","no":"No"},"header":{"title":"Brainograph AI Lab","subtitle":"VAF Educational Platform","apiKeyTooltip":"Gemini API Key"},"navigation":{"search":"Search","quiz":"Quiz","history":"History"},"auth":{"login":"Login","logout":"Logout","email":"Email","password":"Password","emailPlaceholder":"enter email","passwordPlaceholder":"enter password","loginSuccess":"Successfully logged in","loginError":"Login error occurred","logoutSuccess":"Successfully logged out","welcome":"Welcome","appName":"Brainograph AI Lab","loggingIn":"Logging in...","requiredFields":"Email and password are required.","poweredBy":"Powered by"},"search":{"title":"Article Search","placeholder":"Enter search keyword...","searchButton":"Search","results":"Search Results","resultsCount":"Found {{count}} result","resultsCount_plural":"Found {{count}} results","noResults":"No results found","searching":"Searching...","searchError":"An error occurred during search","selectArticle":"Select an article from the left panel to view content","untitledArticle":"Untitled Article","enterKeyword":"Please enter a search keyword","startSearching":"Start searching by entering a keyword"},"quiz":{"modal":{"title":"Quiz Creation Settings","selectedArticle":"Selected Article","charactersCount":"characters","noArticleSelected":"No article selected. Please select an article from the Article Search tab first.","aiInstructions":"AI Instructions","instructionsPlaceholder":"Enter custom instructions for quiz generation...","aiModel":"AI Model","creativityLevel":"Creativity Level (Temperature)","conservative":"Conservative (0.0)","balanced":"Balanced (1.0)","creative":"Creative (2.0)","apiKeyRequired":"Gemini API key required for quiz generation","setApiKey":"Set API Key","cancel":"Cancel","generating":"Quiz is being generated...","generateQuiz":"Generate Quiz"},"generator":{"title":"Create Quiz","subtitle":"Create AI-powered quizzes from selected articles","selectedArticle":"Selected Article","contentAvailable":"Content available: {{count}} characters","noArticleSelected":"No article selected from search tab.","quizTemplate":"Quiz Template","customInstructions":"Custom Instructions","instructionsPlaceholder":"Enter custom instructions for quiz generation...","aiModel":"AI Model","creativityLevel":"Creativity Level (Temperature): {{temperature}}","conservative":"Conservative (0.0)","balanced":"Balanced (0.5)","creative":"Creative (1.0)","apiKeyRequired":"Gemini API key required for quiz generation","setApiKey":"Set API Key","generatingQuiz":"Generating Quiz...","generateQuiz":"Generate Quiz"},"interface":{"quizError":"Quiz Error","noQuestionsAvailable":"No quiz questions available.","close":"Close","results":"Quiz Results","excellent":"Excellent!","goodJob":"Good job!","keepPracticing":"Keep practicing!","correctAnswers":"You answered {{correct}} out of {{total}} questions correctly.","saveResults":"Save Results","questionProgress":"Question {{current}} of {{total}}","percentComplete":"{{percent}}% Complete","previous":"Previous","cancel":"Cancel","nextQuestion":"Next Question","finishQuiz":"Finish Quiz","yourAnswer":"(Your answer)"},"history":{"title":"Quiz History","statistics":"Quiz Statistics","noHistoryTitle":"No Quiz History","noHistoryMessage":"You haven\'t completed any quizzes yet. Generate and take a quiz to see your results here.","noHistory":"No quiz history found","clearHistory":"Clear History","confirmClearHistory":"Are you sure you want to clear all quiz history? This action cannot be undone.","confirmDeleteQuiz":"Are you sure you want to delete this quiz result?","historyCleared":"Quiz history cleared","quizDeleted":"Quiz result deleted","loadError":"Error loading quiz history","totalQuizzes":"Total Quizzes","averageScore":"Average Score","bestScore":"Best Score","recentAverage":"Recent Average","excellent":"Excellent","good":"Good","needsImprovement":"Needs Improvement","viewDetails":"View Details","delete":"Delete","completedOn":"Completed: {{date}}","score":"Score: {{score}}%","questions":"Questions: {{count}}","model":"Model: {{model}}","untitledQuiz":"Untitled Quiz","correctAnswers":"{{correct}} / {{total}} correct","quizDetails":"Quiz Details","close":"Close","correctAnswer":"✓","yourAnswer":"(Your answer)"},"interfacePage":{"quizError":"Quiz Error","noQuestionsMessage":"Quiz questions are not available.","backToArticle":"Back to Article","quizResults":"Quiz Results","newQuiz":"New Quiz","excellent":"Excellent!","goodJob":"Good job!","keepPracticing":"Keep practicing!","detailedResults":"Detailed Results","correctAnswerLabel":"✓ Correct Answer","yourAnswerLabel":"Your Answer","quiz":"Quiz","questionNumber":"Question {{current}} / {{total}}","close":"Close","difficulty":"Difficulty:","checkAnswer":"Check Answer","correctFeedback":"Correct!","incorrectFeedback":"Incorrect: The correct answer was \\"{{correct}}\\"","notAnsweredFeedback":"Not answered: Please select an answer.","explanation":"Explanation:","previous":"Previous","next":"Next","finishQuiz":"Finish Quiz","scoreMessage":"You answered {{correct}} out of {{total}} questions correctly."},"errors":{"apiKeyRequired":"Please select an article first from the Article Search tab.","noArticleSelected":"Selected article has no content available for quiz generation.","generationFailed":"Failed to generate quiz. Please try again.","generationError":"Failed to generate quiz. Please check your API key and try again.","completionSuccess":"Quiz completed successfully!","quizGeneratedSuccess":"Quiz generated successfully with {{count}} questions!","quizCompletedSuccess":"Quiz completed! Score: {{score}}/{{total}}"}},"tooltip":{"explanation":"Explanation","images":"Images","links":"Links","citations":"Citations","loadingImages":"Loading images...","loadingLinks":"Loading links...","loadingCitations":"Loading citations...","noImages":"No related images found","noLinks":"No related links found","noCitations":"No citations found","poweredByGoogle":"Powered by Google Search"},"apiKey":{"title":"API Configuration","gemini":{"title":"Gemini AI","label":"Gemini API Key","placeholder":"Your Gemini API key","getKeyLink":"How to get Gemini API key →"},"googleSearch":{"title":"Google Search","apiKeyLabel":"Google Search API Key","apiKeyPlaceholder":"Your Google Custom Search API key","engineIdLabel":"Search Engine ID","engineIdPlaceholder":"Your Custom Search Engine ID","bothRequired":"Both API key and Search Engine ID are required","successMessage":"Google Search API configuration saved successfully","clearMessage":"Google Search API configuration cleared","errorMessage":"Google Search API configuration is invalid. {{error}}","getApiKeyLink":"Get Google Custom Search API Key →","createEngineLink":"Create Custom Search Engine →"},"save":"Save","clear":"Clear","required":"Please enter the Gemini API key","successMessage":"API key saved successfully","clearMessage":"API key cleared","errorMessage":"API key is invalid. {{error}}","validating":"Validating...","storageInfo":"Keys are stored in your browser\'s localStorage."},"language":{"select":"Select Language","current":"Current Language","languages":{"hy":"Արևելահայերեն","hyw":"Արևմտահայերեն","en":"English","ru":"Русский"}},"articleToolbar":{"title":"Article Tools","selectAndExplain":"Select & Explain","keyPoints":"Key Points","quiz":"Generate Quiz","translate":"Translate","showOriginal":"Show Original","translated":"Translated","selectModeActive":"Select text to get explanation"},"articleViewer":{"errors":{"apiKeyRequired":"Please enter the Gemini API key first.","noArticleSelected":"Please select an article first.","explanationFailed":"Failed to get explanation.","keyPointsFailed":"Failed to get key points.","keyPointsError":"Error occurred while getting key points. ({{error}})","keyPointsTruncated":"The key points response was too long and was cut off. Please try with a shorter article.","contentNotAvailable":"Content is not available.","translationFailed":"Failed to translate article.","translationError":"Error occurred while translating article. ({{error}})"},"loading":{"explanation":"Loading explanation...","general":"Loading...","keyPoints":"Loading key points...","translation":"Translating article...","translationDescription":"Preserving original formatting and structure"},"noArticle":{"title":"Select Article","message":"Select an article from the left panel to view content"},"buttons":{"keyPoints":"Key Points","quiz":"Quiz"},"hint":{"title":"Hint:","message":"You can get an explanation by selecting any text."},"modals":{"keyPointsTitle":"Key Points","translationTitle":"Translation"},"prompts":{"keyPointsPrefix":"The complete text of the article is as follows:","keyPointsInstructions":"Please extract the key points from this article in Armenian. Present them as a short, clear list of points. Start each point on a new line."}},"validation":{"required":"This field is required","invalidEmail":"Invalid email format","minLength":"Minimum {{count}} characters","maxLength":"Maximum {{count}} characters"}}'),sT=JSON.parse('{"common":{"loading":"Բեռնվում է...","error":"Սխալ","success":"Հաջողություն","cancel":"Չեղարկել","close":"Փակել","save":"Պահպանել","delete":"Ջնջել","edit":"Խմբագրել","back":"Վերադառնալ","next":"Հաջորդ","previous":"Նախորդ","confirm":"Հաստատել","yes":"Այո","no":"Ոչ"},"header":{"title":"Brainograph AI Lab","subtitle":"VAF Educational Platform","apiKeyTooltip":"Gemini API բանալի"},"navigation":{"search":"Որոնում","quiz":"Վիկտորինա","history":"Պատմություն"},"auth":{"login":"Մուտք գործել","logout":"Դուրս գալ","email":"Էլեկտրոնային փոստ","password":"Գաղտնաբառ","emailPlaceholder":"մուտքագրեք էլ. փոստը","passwordPlaceholder":"մուտքագրեք գաղտնաբառը","loginSuccess":"Հաջողությամբ մուտք գործեցիք","loginError":"Մուտքի ժամանակ տեղի ունեցավ սխալ","logoutSuccess":"Դուք հաջողությամբ դուրս եկաք","welcome":"Բարի գալուստ","appName":"Brainograph AI Lab","loggingIn":"Մուտք գործում...","requiredFields":"Էլ. փոստը և գաղտնաբառը պարտադիր են։","poweredBy":"Աջակցություն՝"},"search":{"title":"Հոդվածների որոնում","placeholder":"Մուտքագրեք որոնման բառ...","searchButton":"Որոնել","results":"Որոնման արդյունքներ","resultsCount":"Գտնվել է {{count}} արդյունք","noResults":"Ոչ մի արդյունք չգտնվեց","searching":"Որոնում...","searchError":"Որոնման ժամանակ տեղի ունեցավ սխալ։","selectArticle":"Ընտրեք հոդված ձախ վահանակից՝ բովանդակությունը դիտելու համար","untitledArticle":"Անունակի հոդված","enterKeyword":"Խնդրում ենք մուտքագրել որոնման բառ","startSearching":"Սկսեք որոնումը բառ մուտքագրելով"},"quiz":{"modal":{"title":"Վիկտորինայի ստեղծման կարգավորումներ","selectedArticle":"Ընտրված հոդված","charactersCount":"նիշ","noArticleSelected":"Հոդված ընտրված չէ: Խնդրում ենք նախ ընտրել հոդված հոդվածների որոնման բաժնից:","aiInstructions":"AI հուշում","instructionsPlaceholder":"Մուտքագրեք վիկտորինա ստեղծելու համար հատուկ հրահանգներ...","aiModel":"AI մոդել","creativityLevel":"Ստեղծագործական մակարդակ (ջերմաստիճան)","conservative":"Պահպանողական (0.0)","balanced":"Հավասարակշռված (1.0)","creative":"Ստեղծագործական (2.0)","apiKeyRequired":"Վիկտորինա ստեղծելու համար անհրաժեշտ է Gemini API բանալի","setApiKey":"Սահմանել API բանալի","cancel":"Չեղարկել","generating":"Վիկտորինա ստեղծվում է...","generateQuiz":"Ստեղծել վիկտորինա"},"generator":{"title":"Վիկտորինա ստեղծել","subtitle":"Ընտրված հոդվածներից AI-ի օգնությամբ վիկտորինաներ ստեղծեք","selectedArticle":"Ընտրված հոդված","contentAvailable":"Հասանելի բովանդակություն՝ {{count}} նիշ","noArticleSelected":"Հոդված ընտրված չէ: Խնդրում ենք նախ ընտրել հոդված հոդվածների որոնման բաժնից:","quizTemplate":"Վիկտորինայի ձև","customInstructions":"Հատուկ հրահանգներ","instructionsPlaceholder":"Մուտքագրեք վիկտորինա ստեղծելու համար հատուկ հրահանգներ...","aiModel":"AI մոդել","creativityLevel":"Ստեղծագործական մակարդակ (ջերմաստիճան)՝ {{temperature}}","conservative":"Պահպանողական (0.0)","balanced":"Հավասարակշռված (0.5)","creative":"Ստեղծագործական (1.0)","apiKeyRequired":"Վիկտորինա ստեղծելու համար անհրաժեշտ է Gemini API բանալի","setApiKey":"Սահմանել API բանալի","generatingQuiz":"Վիկտորինա ստեղծվում է...","generateQuiz":"Ստեղծել վիկտորինա"},"interface":{"quizError":"Վիկտորինայի սխալ","noQuestionsAvailable":"Վիկտորինայի հարցեր հասանելի չեն:","close":"Փակել","results":"Վիկտորինայի արդյունքներ","excellent":"Գերազանց!","goodJob":"Լավ արդյունք!","keepPracticing":"Շարունակեք պարապել!","correctAnswers":"Դուք ճիշտ պատասխանել եք {{correct}}-ը {{total}}-ից:","saveResults":"Պահպանել արդյունքները","questionProgress":"Հարց {{current}}-ը {{total}}-ից","percentComplete":"Ավարտված է {{percent}}%-ը","previous":"Նախորդ","cancel":"Չեղարկել","nextQuestion":"Հաջորդ հարց","finishQuiz":"Ավարտել վիկտորինան","yourAnswer":"(Ձեր պատասխանը)"},"history":{"title":"Վիկտորինաների պատմություն","statistics":"Վիկտորինաների վիճակագրություն","noHistoryTitle":"Վիկտորինաների պատմություն չկա","noHistoryMessage":"Դուք դեռ վիկտորինա չեք անցել: Ստեղծեք և անցեք վիկտորինա՝ ձեր արդյունքները այստեղ տեսնելու համար:","noHistory":"Վիկտորինաների պատմություն չի գտնվել","clearHistory":"Մաքրել պատմությունը","confirmClearHistory":"Վստա՞հ եք, որ ցանկանում եք ջնջել ամբողջ վիկտորինաների պատմությունը: Այս գործողությունը հնարավոր չէ հետ գործարկել:","confirmDeleteQuiz":"Վստա՞հ եք, որ ցանկանում եք ջնջել այս վիկտորինայի արդյունքը:","historyCleared":"Վիկտորինաների պատմությունը մաքրվեց","quizDeleted":"Վիկտորինայի արդյունքը ջնջվեց","loadError":"Վիկտորինաների պատմությունը բեռնելիս սխալ առաջացավ","totalQuizzes":"Ընդհանուր վիկտորինաներ","averageScore":"Միջին գնահատական","bestScore":"Լավագույն գնահատական","recentAverage":"Վերջին միջին","excellent":"Գերազանց","good":"Լավ","needsImprovement":"Կարիք է բարելավման","viewDetails":"Դիտել մանրամասները","delete":"Ջնջել","completedOn":"Ավարտվել է՝ {{date}}","score":"Գնահատական՝ {{score}}%","questions":"Հարցեր՝ {{count}}","model":"Մոդել՝ {{model}}","untitledQuiz":"Անանուն վիկտորինա","correctAnswers":"{{correct}} / {{total}} ճիշտ","quizDetails":"Վիկտորինայի մանրամասները","close":"Փակել","correctAnswer":"✓","yourAnswer":"(Ձեր պատասխանը)"},"interfacePage":{"quizError":"Վիկտորինայի սխալ","noQuestionsMessage":"Վիկտորինայի հարցեր հասանելի չեն:","backToArticle":"Վերադառնալ հոդվածին","quizResults":"Վիկտորինայի արդյունքներ","newQuiz":"Նոր վիկտորինա","excellent":"Գերազանց!","goodJob":"Լավ արդյունք!","keepPracticing":"Շարունակեք պարապել!","detailedResults":"Մանրամասն արդյունքներ","correctAnswerLabel":"✓ Ճիշտ պատասխան","yourAnswerLabel":"Ձեր պատասխանը","quiz":"Վիկտորինա","questionNumber":"Հարց {{current}} / {{total}}","close":"Փակել","difficulty":"Բարդություն՝","checkAnswer":"Ստուգել պատասխանը","correctFeedback":"Ճիշտ է!","incorrectFeedback":"Սխալ է՝ Ճիշտ պատասխանն էր \xab{{correct}}\xbb","notAnsweredFeedback":"Պատասխանված չէ՝ Խնդրում ենք ընտրել պատասխան:","explanation":"Բացատրություն՝","previous":"Նախորդ","next":"Հաջորդ","finishQuiz":"Ավարտել վիկտորինան","scoreMessage":"Դուք ճիշտ պատասխանել եք {{correct}} հարցի {{total}}-ից:"},"errors":{"apiKeyRequired":"Խնդրում ենք նախ ընտրել հոդված հոդվածների որոնման բաժնից:","noArticleSelected":"Ընտրված հոդվածը բովանդակություն չունի վիկտորինա ստեղծելու համար:","generationFailed":"Վիկտորինան ստեղծելը ձախողվեց: Խնդրում ենք փորձել կրկին:","generationError":"Վիկտորինան ստեղծելը ձախողվեց: Խնդրում ենք ստուգել ձեր API բանալին և փորձել կրկին:","completionSuccess":"Վիկտորինան հաջողությամբ ավարտվեց!","quizGeneratedSuccess":"Վիկտորինան հաջողությամբ ստեղծվեց {{count}} հարցերով!","quizCompletedSuccess":"Վիկտորինան ավարտվեց! Գնահատական՝ {{score}}/{{total}}"}},"apiKey":{"title":"API կարգավորումներ","gemini":{"title":"Gemini AI","label":"Gemini API բանալի","placeholder":"Ձեր Gemini API բանալին","getKeyLink":"Ինչպես ստանալ Gemini API բանալի →"},"googleSearch":{"title":"Google որոնում","apiKeyLabel":"Google Search API բանալի","apiKeyPlaceholder":"Ձեր Google Custom Search API բանալին","engineIdLabel":"Որոնման շարժիչի ID","engineIdPlaceholder":"Ձեր Custom Search Engine ID-ն","bothRequired":"Անհրաժեշտ են և՛ API բանալին, և՛ Search Engine ID-ն","successMessage":"Google Search API կարգավորումները հաջողությամբ պահպանվեցին","clearMessage":"Google Search API կարգավորումները մաքրվեցին","errorMessage":"Google Search API կարգավորումները սխալ են։ {{error}}","getApiKeyLink":"Ստանալ Google Custom Search API բանալի →","createEngineLink":"Ստեղծել Custom Search Engine →"},"save":"Պահպանել","clear":"Մաքրել","required":"Խնդրում ենք մուտքագրել Gemini API բանալին","successMessage":"API բանալին հաջողությամբ պահպանվեց","clearMessage":"API բանալին մաքրվեց","errorMessage":"API բանալին սխալ է։ {{error}}","validating":"Ստուգում...","storageInfo":"Բանալիները պահպանվում են ձեր զննարկչի localStorage-ում։"},"language":{"select":"Ընտրել լեզու","current":"Ընթացիկ լեզու","languages":{"hy":"Արևելահայերեն","hyw":"Արևմտահայերեն","en":"English","ru":"Русский"}},"articleToolbar":{"title":"Հոդվածի գործիքներ","selectAndExplain":"Ընտրել և բացատրել","keyPoints":"Հիմնական կետեր","quiz":"Ստեղծել վիկտորինա","translate":"Թարգմանել","showOriginal":"Ցուցադրել բնօրինակը","translated":"Թարգմանված","selectModeActive":"Ընտրեք տեքստ բացատրություն ստանալու համար"},"articleViewer":{"errors":{"apiKeyRequired":"Խնդրում ենք նախ մուտքագրել Gemini API բանալին։","noArticleSelected":"Խնդրում ենք նախ ընտրել հոդված։","explanationFailed":"Բացատրությունը բերելիս սխալ տեղի ունեցավ։","keyPointsFailed":"Հիմնական կետերը ստանալ չհաջողվեց։","keyPointsError":"Հիմնական կետերը բերելիս սխալ տեղի ունեցավ։ ({{error}})","keyPointsTruncated":"Հիմնական կետերի պատասխանը չափից երկար էր և կտրվել է։ Խնդրում ենք փորձել ավելի կարճ հոդվածով։","contentNotAvailable":"Բովանդակությունը հասանելի չէ։","translationFailed":"Հոդվածի թարգմանությունը ձախողվեց։","translationError":"Հոդվածի թարգմանության ժամանակ սխալ տեղի ունեցավ։ ({{error}})"},"loading":{"explanation":"Բացատրությունը բեռնվում է...","general":"Բեռնվում է...","keyPoints":"Հիմնական կետերի բեռնում...","translation":"Հոդվածը թարգմանվում է...","translationDescription":"Պահպանվում է բնօրինակ ձևաչափումը և կառուցվածքը"},"noArticle":{"title":"Ընտրեք հոդված","message":"Ընտրեք հոդված ձախ վահանակից՝ բովանդակությունը դիտելու համար"},"buttons":{"keyPoints":"Հիմնական կետեր","quiz":"Վիկտորինա"},"hint":{"title":"Հուշում:","message":"Ցանկացած տեքստ ընտրելով կարող եք ստանալ դրա բացատրությունը։"},"modals":{"keyPointsTitle":"Հիմնական կետեր"},"prompts":{"keyPointsPrefix":"Հոդվածի ամբողջական տեքստը հետևյալն է՝","keyPointsInstructions":"Խնդրում եմ այս հոդվածից առանձնացրու հիմնական կետերը (key points) հայերենով։ Ներկայացրու դրանք որպես կարճ, հստակ կետերի ցանկ։ Յուրաքանչյուր կետ սկսիր նոր տողից։"}},"validation":{"required":"Այս դաշտը պարտադիր է","invalidEmail":"Էլ. փոստի ֆորմատը սխալ է","minLength":"Նվազագույնը {{count}} նիշ","maxLength":"Առավելագույնը {{count}} նիշ"},"tooltip":{"explanation":"Բացատրություն","images":"Նկարներ","links":"Հղումներ","citations":"Մեջբերումներ","loadingImages":"Նկարներ բեռնում...","loadingLinks":"Հղումներ բեռնում...","loadingCitations":"Մեջբերումներ բեռնում...","noImages":"Առնչվող նկարներ չգտնվեցին","noLinks":"Առնչվող հղումներ չգտնվեցին","noCitations":"Մեջբերումներ չգտնվեցին","poweredByGoogle":"Հնարավորություն՝ Google Search-ի կողմից"}}'),sO={en:{translation:sL},hy:{translation:sT},hyw:{translation:JSON.parse('{"common":{"loading":"Կը բեռնուի...","error":"Սխալ","success":"Յաջողութիւն","cancel":"Չեղարկել","close":"Փակել","save":"Պահել","delete":"Ջնջել","edit":"Խմբագրել","back":"Վերադառնալ","next":"Հաջորդ","previous":"Նախորդ","confirm":"Հաստատել","yes":"Այո","no":"Ոչ"},"header":{"title":"Brainograph AI Lab","subtitle":"VAF Educational Platform","apiKeyTooltip":"Gemini API բանալի"},"navigation":{"search":"Որոնում","quiz":"Վիկտորինա","history":"Պատմութիւն"},"auth":{"login":"Մուտք գործել","logout":"Դուրս գալ","email":"Էլեկտրոնային փոստ","password":"Գաղտնաբառ","emailPlaceholder":"մուտքագրէք էլ. փոստը","passwordPlaceholder":"մուտքագրէք գաղտնաբառը","loginSuccess":"Յաջողութեամբ մուտք գործեցիք","loginError":"Մուտքի ժամանակ տեղի ունեցաւ սխալ","logoutSuccess":"Դուք յաջողութեամբ դուրս եկաք","welcome":"Բարի գալուստ","appName":"Brainograph AI Lab","loggingIn":"Մուտք գործում...","requiredFields":"Էլ. փոստը եւ գաղտնաբառը պարտադիր են։","poweredBy":"Աջակցութիւն՝"},"search":{"title":"Հոդուածներու որոնում","placeholder":"Մուտքագրէք որոնման բառ...","searchButton":"Որոնել","results":"Որոնման արդիւնքներ","resultsCount":"Գտնուեցաւ {{count}} արդիւնք","noResults":"Արդիւնքներ չկան","searching":"Կ\'որոնեմ...","searchError":"Որոնման ժամանակ տեղի ունեցաւ սխալ։","selectArticle":"Ընտրէք հոդուած ձախ վահանակէն՝ բովանդակութիւնը դիտելու համար","untitledArticle":"Անունակի հոդուած","enterKeyword":"Խնդրուում ենք մուտքագրել որոնման բառ","startSearching":"Սկսէք որոնումը բառ մուտքագրելով"},"quiz":{"modal":{"title":"Վիկտորինայի ստեղծման կարգաւորումներ","selectedArticle":"Ընտրուած հոդուած","charactersCount":"նիշ","noArticleSelected":"Հոդուած ընտրուած չէ: Խնդրուում ենք նախ ընտրել հոդուած հոդուածներու որոնման բաժնէն:","aiInstructions":"AI հուշում","instructionsPlaceholder":"Մուտքագրէք վիկտորինա ստեղծելու համար հատուկ հրահանգներ...","aiModel":"AI մոդել","creativityLevel":"Ստեղծագործական մակարդակ (ջերմաստիճան)","conservative":"Պահպանողական (0.0)","balanced":"Հաւասարակշռուած (1.0)","creative":"Ստեղծագործական (2.0)","apiKeyRequired":"Վիկտորինա ստեղծելու համար անհրաժեշտ է Gemini API բանալի","setApiKey":"Սահմանել API բանալի","cancel":"Չեղարկել","generating":"Վիկտորինա ստեղծուիլ է...","generateQuiz":"Ստեղծել վիկտորինա"},"generator":{"title":"Վիկտորինա ստեղծել","subtitle":"Ընտրուած հոդուածներէն AI-ի օգնութեամբ վիկտորինաներ ստեղծէք","selectedArticle":"Ընտրուած հոդուած","contentAvailable":"Հասանելի բովանդակութիւն՝ {{count}} նիշ","noArticleSelected":"Հոդուած ընտրուած չէ: Խնդրուում ենք նախ ընտրել հոդուած հոդուածներու որոնման բաժնէն:","quizTemplate":"Վիկտորինայի ձեւ","customInstructions":"Հատուկ հրահանգներ","instructionsPlaceholder":"Մուտքագրէք վիկտորինա ստեղծելու համար հատուկ հրահանգներ...","aiModel":"AI մոդել","creativityLevel":"Ստեղծագործական մակարդակ (ջերմաստիճան)՝ {{temperature}}","conservative":"Պահպանողական (0.0)","balanced":"Հաւասարակշռուած (0.5)","creative":"Ստեղծագործական (1.0)","apiKeyRequired":"Վիկտորինա ստեղծելու համար անհրաժեշտ է Gemini API բանալի","setApiKey":"Սահմանել API բանալի","generatingQuiz":"Վիկտորինա ստեղծուիլ է...","generateQuiz":"Ստեղծել վիկտորինա"},"interface":{"quizError":"Վիկտորինայի սխալ","noQuestionsAvailable":"Վիկտորինայի հարցեր հասանելի չեն:","close":"Փակել","results":"Վիկտորինայի արդիւնքներ","excellent":"Գերազանց!","goodJob":"Լաւ արդիւնք!","keepPracticing":"Շարունակէք պարապիլ!","correctAnswers":"Դուք ճիշդ պատասխանած էք {{correct}}-ը {{total}}-էն:","saveResults":"Պահել արդիւնքները","questionProgress":"Հարց {{current}}-ը {{total}}-էն","percentComplete":"Աւարտուած է {{percent}}%-ը","previous":"Նախորդ","cancel":"Չեղարկել","nextQuestion":"Հաջորդ հարց","finishQuiz":"Աւարտել վիկտորինան","yourAnswer":"(Ձեր պատասխանը)"},"history":{"title":"Վիկտորինաներու պատմութիւն","statistics":"Վիկտորինաներու վիճակագրութիւն","noHistoryTitle":"Վիկտորինաներու պատմութիւն չկայ","noHistoryMessage":"Դուք տակաւին վիկտորինա չէք անցուցած: Ստեղծէք եւ անցուցէք վիկտորինա՝ ձեր արդիւնքները հոս տեսնելու համար:","noHistory":"Վիկտորինաներու պատմութիւն չի գտնուած","clearHistory":"Մաքրել պատմութիւնը","confirmClearHistory":"Վստա՞հ էք, որ կ\'ուզէք ջնջել ամբողջ վիկտորինաներու պատմութիւնը: Այս գործողութիւնը հնարաւոր չէ յետ գործարկել:","confirmDeleteQuiz":"Վստա՞հ էք, որ կ\'ուզէք ջնջել այս վիկտորինայի արդիւնքը:","historyCleared":"Վիկտորինաներու պատմութիւնը մաքրուեցաւ","quizDeleted":"Վիկտորինայի արդիւնքը ջնջուեցաւ","loadError":"Վիկտորինաներու պատմութիւնը բեռնելիս սխալ առաջացաւ","totalQuizzes":"Ընդհանուր վիկտորինաներ","averageScore":"Միջին գնահատական","bestScore":"Լաւագոյն գնահատական","recentAverage":"Վերջին միջին","excellent":"Գերազանց","good":"Լաւ","needsImprovement":"Կարիք է բարելաւման","viewDetails":"Դիտել մանրամասները","delete":"Ջնջել","completedOn":"Աւարտուած է՝ {{date}}","score":"Գնահատական՝ {{score}}%","questions":"Հարցեր՝ {{count}}","model":"Մոդել՝ {{model}}","untitledQuiz":"Անանուն վիկտորինա","correctAnswers":"{{correct}} / {{total}} ճիշտ","quizDetails":"Վիկտորինայի մանրամասները","close":"Փակել","correctAnswer":"✓","yourAnswer":"(Ձեր պատասխանը)"},"interfacePage":{"quizError":"Վիկտորինայի սխալ","noQuestionsMessage":"Վիկտորինայի հարցեր հասանելի չեն:","backToArticle":"Վերադառնալ հոդուածին","quizResults":"Վիկտորինայի արդիւնքներ","newQuiz":"Նոր վիկտորինա","excellent":"Գերազանց!","goodJob":"Լաւ արդիւնք!","keepPracticing":"Շարունակէք պարապել!","detailedResults":"Մանրամասն արդիւնքներ","correctAnswerLabel":"✓ Ճիշտ պատասխան","yourAnswerLabel":"Ձեր պատասխանը","quiz":"Վիկտորինա","questionNumber":"Հարց {{current}} / {{total}}","close":"Փակել","difficulty":"Բարդութիւն՝","checkAnswer":"Ստուգել պատասխանը","correctFeedback":"Ճիշտ է!","incorrectFeedback":"Սխալ է՝ Ճիշտ պատասխանն էր \xab{{correct}}\xbb","notAnsweredFeedback":"Պատասխանուած չէ՝ Խնդրուում ենք ընտրել պատասխան:","explanation":"Բացատրութիւն՝","previous":"Նախորդ","next":"Հաջորդ","finishQuiz":"Աւարտել վիկտորինան","scoreMessage":"Դուք ճիշտ պատասխանել էք {{correct}} հարցի {{total}}-էն:"},"errors":{"apiKeyRequired":"Խնդրուում ենք նախ ընտրել հոդուած հոդուածներու որոնման բաժնէն:","noArticleSelected":"Ընտրուած հոդուածը բովանդակութիւն չունի վիկտորինա ստեղծելու համար:","generationFailed":"Վիկտորինան ստեղծելը ձախողուեցաւ: Խնդրուում ենք փորձել կրկին:","generationError":"Վիկտորինան ստեղծելը ձախողուեցաւ: Խնդրուում ենք ստուգել ձեր API բանալին եւ փորձել կրկին:","completionSuccess":"Վիկտորինան յաջողութեամբ աւարտուեցաւ!","quizGeneratedSuccess":"Վիկտորինան յաջողութեամբ ստեղծուեցաւ {{count}} հարցերով!","quizCompletedSuccess":"Վիկտորինան աւարտուեցաւ! Գնահատական՝ {{score}}/{{total}}"}},"tooltip":{"explanation":"Բացատրություն","images":"Նկարներ","links":"Յղումներ","citations":"Մէջբերումներ","loadingImages":"Նկարներու բեռնում...","loadingLinks":"Յղումներու բեռնում...","loadingCitations":"Մէջբերումներու բեռնում...","noImages":"Կապակցուած նկարներ չգտնուեցան","noLinks":"Կապակցուած յղումներ չգտնուեցան","noCitations":"Մէջբերումներ չգտնուեցան","poweredByGoogle":"Google Search-ի կողմէ աջակցուած"},"apiKey":{"title":"API կարգաւորումներ","gemini":{"title":"Gemini AI","label":"Gemini API բանալի","placeholder":"Ձեր Gemini API բանալին","getKeyLink":"Ինչպէս ստանալ Gemini API բանալի →"},"googleSearch":{"title":"Google որոնում","apiKeyLabel":"Google Search API բանալի","apiKeyPlaceholder":"Ձեր Google Custom Search API բանալին","engineIdLabel":"Որոնման շարժիչի ID","engineIdPlaceholder":"Ձեր Custom Search Engine ID-ն","bothRequired":"Անհրաժեշտ են եւ API բանալին, եւ Search Engine ID-ն","successMessage":"Google Search API կարգաւորումները հաջողութեամբ պահպանուեցան","clearMessage":"Google Search API կարգաւորումները մաքրուեցան","errorMessage":"Google Search API կարգաւորումները սխալ են։ {{error}}","getApiKeyLink":"Ստանալ Google Custom Search API բանալի →","createEngineLink":"Ստեղծել Custom Search Engine →"},"save":"Պահպանել","clear":"Մաքրել","required":"Խնդրուում ենք մուտքագրել Gemini API բանալին","successMessage":"API բանալին հաջողութեամբ պահպանուեցաւ","clearMessage":"API բանալին մաքրուեցաւ","errorMessage":"API բանալին սխալ է։ {{error}}","validating":"Ստուգում...","storageInfo":"Բանալիները պահպանուում են ձեր զննարկչի localStorage-ում։"},"language":{"select":"Ընտրել լեզու","current":"Ընթացիկ լեզու","languages":{"hy":"Արեւելահայերէն","hyw":"Արեւմտահայերէն","en":"English","ru":"Русский"}},"articleToolbar":{"title":"Հոդուածի գործիքներ","selectAndExplain":"Ընտրել եւ բացատրել","keyPoints":"Հիմնական կէտեր","quiz":"Ստեղծել վիկտորինա","translate":"Թարգմանել","showOriginal":"Ցույց տալ բնօրինակը","translated":"Թարգմանուած","selectModeActive":"Ընտրէք տեքստ բացատրութիւն ստանալու համար"},"articleViewer":{"errors":{"apiKeyRequired":"Խնդրում ենք նախ մուտքագրել Gemini API բանալին։","noArticleSelected":"Խնդրում ենք նախ ընտրել հոդված։","explanationFailed":"Բացատրութիւնը բերելիս սխալ տեղի ունեցաւ։","keyPointsFailed":"Հիմնական կէտերը ստանալ չյաջողուեցաւ։","keyPointsError":"Հիմնական կէտերը բերելիս սխալ տեղի ունեցաւ։ ({{error}})","keyPointsTruncated":"Հիմնական կէտերու պատասխանը չափէն երկար էր ու կտրուեցաւ։ Խնդրում ենք փորձել աւելի կարճ հոդուածով։","contentNotAvailable":"Բովանդակութիւնը հասանելի չէ։","translationFailed":"Հոդուածի թարգմանութիւնը ձախողուեցաւ։","translationError":"Հոդուածի թարգմանութեան ժամանակ սխալ տեղի ունեցաւ։ ({{error}})"},"loading":{"explanation":"Բացատրութիւնը բեռնուում է...","general":"Բեռնուում է...","keyPoints":"Հիմնական կէտերի բեռնում...","translation":"Հոդուածը թարգմանուում է...","translationDescription":"Պահպանուում է բնօրինակ ձևաչափումը եւ կառուցուածքը"},"noArticle":{"title":"Ընտրէք հոդուած","message":"Ընտրէք հոդուած ձախ վահանակէն՝ բովանդակութիւնը դիտելու համար"},"buttons":{"keyPoints":"Հիմնական կէտեր","quiz":"Վիկտորինա"},"hint":{"title":"Հուշում:","message":"Ցանկացած տեքստ ընտրելով կրնաք ստանալ դրա բացատրութիւնը։"},"modals":{"keyPointsTitle":"Հիմնական կէտեր"},"prompts":{"keyPointsPrefix":"Հոդուածի ամբողջական տեքստը հետեւեալն է՝","keyPointsInstructions":"Խնդրում եմ այս հոդուածէն առանձնացրու հիմնական կէտերը (key points) արեւմտահայերէնով։ Ներկայացրու դրանք որպէս կարճ, հստակ կէտերի ցանկ։ Իւրաքանչիւր կէտ սկսիր նոր տողէն։"}},"validation":{"required":"Այս դաշտը պարտադիր է","invalidEmail":"Էլ. փոստի ֆորմատը սխալ է","minLength":"Նուազագոյնը {{count}} նիշ","maxLength":"Առաւելագոյնը {{count}} նիշ"}}')},ru:{translation:JSON.parse('{"common":{"loading":"Загрузка...","error":"Ошибка","success":"Успех","cancel":"Отмена","close":"Закрыть","save":"Сохранить","delete":"Удалить","edit":"Редактировать","back":"Назад","next":"Далее","previous":"Предыдущий","confirm":"Подтвердить","yes":"Да","no":"Нет"},"header":{"title":"Brainograph AI Lab","subtitle":"VAF Educational Platform","apiKeyTooltip":"Ключ API Gemini"},"navigation":{"search":"Поиск","quiz":"Викторина","history":"История"},"auth":{"login":"Войти","logout":"Выйти","email":"Email","password":"Пароль","emailPlaceholder":"введите ваш email","passwordPlaceholder":"введите ваш пароль","loginSuccess":"Успешно вошли в систему","loginError":"Произошла ошибка входа","logoutSuccess":"Успешно вышли из системы","welcome":"Добро пожаловать","appName":"Brainograph AI Lab","loggingIn":"Вход в систему...","requiredFields":"Email и пароль обязательны.","poweredBy":"При поддержке"},"search":{"title":"Поиск статей","placeholder":"Введите поисковый запрос...","searchButton":"Поиск","results":"Результаты поиска","resultsCount":"Найден {{count}} результат","resultsCount_plural":"Найдено {{count}} результатов","noResults":"Результаты не найдены","searching":"Поиск...","searchError":"Произошла ошибка при поиске","selectArticle":"Выберите статью из левой панели для просмотра содержимого","untitledArticle":"Статья без названия","enterKeyword":"Пожалуйста, введите ключевое слово для поиска","startSearching":"Начните поиск, введя ключевое слово"},"quiz":{"modal":{"title":"Настройки создания викторины","selectedArticle":"Выбранная статья","charactersCount":"символов","noArticleSelected":"Статья не выбрана. Пожалуйста, сначала выберите статью из раздела поиска статей.","aiInstructions":"Инструкции для AI","instructionsPlaceholder":"Введите специальные инструкции для создания викторины...","aiModel":"Модель AI","creativityLevel":"Уровень креативности (температура)","conservative":"Консервативный (0.0)","balanced":"Сбалансированный (1.0)","creative":"Креативный (2.0)","apiKeyRequired":"Для создания викторины требуется ключ API Gemini","setApiKey":"Установить ключ API","cancel":"Отмена","generating":"Викторина создается...","generateQuiz":"Создать викторину"},"generator":{"title":"Создать викторину","subtitle":"Создавайте викторины с помощью AI из выбранных статей","selectedArticle":"Выбранная статья","contentAvailable":"Доступный контент: {{count}} символов","noArticleSelected":"Статья не выбрана. Пожалуйста, сначала выберите статью из раздела поиска статей.","quizTemplate":"Шаблон викторины","customInstructions":"Специальные инструкции","instructionsPlaceholder":"Введите специальные инструкции для создания викторины...","aiModel":"Модель AI","creativityLevel":"Уровень креативности (температура): {{temperature}}","conservative":"Консервативный (0.0)","balanced":"Сбалансированный (0.5)","creative":"Креативный (1.0)","apiKeyRequired":"Для создания викторины требуется ключ API Gemini","setApiKey":"Установить ключ API","generatingQuiz":"Создание викторины...","generateQuiz":"Создать викторину"},"interface":{"quizError":"Ошибка викторины","noQuestionsAvailable":"Вопросы викторины недоступны.","close":"Закрыть","results":"Результаты викторины","excellent":"Отлично!","goodJob":"Хорошая работа!","keepPracticing":"Продолжайте практиковаться!","correctAnswers":"Вы правильно ответили на {{correct}} из {{total}} вопросов.","saveResults":"Сохранить результаты","questionProgress":"Вопрос {{current}} из {{total}}","percentComplete":"Завершено {{percent}}%","previous":"Назад","cancel":"Отмена","nextQuestion":"Следующий вопрос","finishQuiz":"Завершить викторину","yourAnswer":"(Ваш ответ)"},"history":{"title":"История викторин","statistics":"Статистика викторин","noHistoryTitle":"История викторин отсутствует","noHistoryMessage":"Вы еще не прошли ни одной викторины. Создайте и пройдите викторину, чтобы увидеть свои результаты здесь.","noHistory":"История викторин не найдена","clearHistory":"Очистить историю","confirmClearHistory":"Вы уверены, что хотите очистить всю историю викторин? Это действие нельзя отменить.","confirmDeleteQuiz":"Вы уверены, что хотите удалить результат этой викторины?","historyCleared":"История викторин очищена","quizDeleted":"Результат викторины удален","loadError":"Ошибка загрузки истории викторин","totalQuizzes":"Всего викторин","averageScore":"Средний результат","bestScore":"Лучший результат","recentAverage":"Последний средний","excellent":"Отлично","good":"Хорошо","needsImprovement":"Требует улучшения","viewDetails":"Посмотреть детали","delete":"Удалить","completedOn":"Завершено: {{date}}","score":"Результат: {{score}}%","questions":"Вопросы: {{count}}","model":"Модель: {{model}}","untitledQuiz":"Викторина без названия","correctAnswers":"{{correct}} / {{total}} правильно","quizDetails":"Детали викторины","close":"Закрыть","correctAnswer":"✓","yourAnswer":"(Ваш ответ)"},"interfacePage":{"quizError":"Ошибка викторины","noQuestionsMessage":"Вопросы викторины недоступны.","backToArticle":"Вернуться к статье","quizResults":"Результаты викторины","newQuiz":"Новая викторина","excellent":"Отлично!","goodJob":"Хорошая работа!","keepPracticing":"Продолжайте практиковаться!","detailedResults":"Подробные результаты","correctAnswerLabel":"✓ Правильный ответ","yourAnswerLabel":"Ваш ответ","quiz":"Викторина","questionNumber":"Вопрос {{current}} / {{total}}","close":"Закрыть","difficulty":"Сложность:","checkAnswer":"Проверить ответ","correctFeedback":"Правильно!","incorrectFeedback":"Неправильно: Правильным ответом был \\"{{correct}}\\"","notAnsweredFeedback":"Не отвечено: Пожалуйста, выберите ответ.","explanation":"Объяснение:","previous":"Назад","next":"Далее","finishQuiz":"Завершить викторину","scoreMessage":"Вы правильно ответили на {{correct}} из {{total}} вопросов."},"errors":{"apiKeyRequired":"Пожалуйста, сначала выберите статью из раздела поиска статей.","noArticleSelected":"Выбранная статья не содержит контента для создания викторины.","generationFailed":"Не удалось создать викторину. Пожалуйста, попробуйте еще раз.","generationError":"Не удалось создать викторину. Пожалуйста, проверьте ваш ключ API и попробуйте еще раз.","completionSuccess":"Викторина успешно завершена!","quizGeneratedSuccess":"Викторина успешно создана с {{count}} вопросами!","quizCompletedSuccess":"Викторина завершена! Результат: {{score}}/{{total}}"}},"tooltip":{"explanation":"Объяснение","images":"Изображения","links":"Ссылки","citations":"Цитаты","loadingImages":"Загрузка изображений...","loadingLinks":"Загрузка ссылок...","loadingCitations":"Загрузка цитат...","noImages":"Связанные изображения не найдены","noLinks":"Связанные ссылки не найдены","noCitations":"Цитаты не найдены","poweredByGoogle":"Поддерживается Google Search"},"apiKey":{"title":"Настройки API","gemini":{"title":"Gemini AI","label":"Ключ API Gemini","placeholder":"Ваш ключ API Gemini","getKeyLink":"Как получить ключ API Gemini →"},"googleSearch":{"title":"Google Поиск","apiKeyLabel":"Ключ API Google Search","apiKeyPlaceholder":"Ваш ключ API Google Custom Search","engineIdLabel":"ID поисковой системы","engineIdPlaceholder":"Ваш ID Custom Search Engine","bothRequired":"Требуются как ключ API, так и ID поисковой системы","successMessage":"Настройки Google Search API успешно сохранены","clearMessage":"Настройки Google Search API очищены","errorMessage":"Настройки Google Search API недействительны. {{error}}","getApiKeyLink":"Получить ключ API Google Custom Search →","createEngineLink":"Создать Custom Search Engine →"},"save":"Сохранить","clear":"Очистить","required":"Пожалуйста, введите ключ API Gemini","successMessage":"Ключ API успешно сохранен","clearMessage":"Ключ API очищен","errorMessage":"Ключ API недействителен. {{error}}","validating":"Проверка...","storageInfo":"Ключи сохраняются в localStorage вашего браузера."},"language":{"select":"Выбрать язык","current":"Текущий язык","languages":{"hy":"Արևելահայերեն","hyw":"Արևմտահայերեն","en":"English","ru":"Русский"}},"articleToolbar":{"title":"Инструменты статьи","selectAndExplain":"Выбрать и объяснить","keyPoints":"Ключевые точки","quiz":"Создать тест","translate":"Перевести","showOriginal":"Показать оригинал","translated":"Переведено","selectModeActive":"Выберите текст для получения объяснения"},"articleViewer":{"errors":{"apiKeyRequired":"Пожалуйста, сначала введите ключ API Gemini.","noArticleSelected":"Пожалуйста, сначала выберите статью.","explanationFailed":"Не удалось получить объяснение.","keyPointsFailed":"Не удалось получить ключевые точки.","keyPointsError":"Произошла ошибка при получении ключевых точек. ({{error}})","keyPointsTruncated":"Ответ с ключевыми точками был слишком длинным и был обрезан. Попробуйте с более короткой статьей.","contentNotAvailable":"Содержимое недоступно.","translationFailed":"Не удалось перевести статью.","translationError":"Произошла ошибка при переводе статьи. ({{error}})"},"loading":{"explanation":"Загрузка объяснения...","general":"Загрузка...","keyPoints":"Загрузка ключевых точек...","translation":"Перевод статьи...","translationDescription":"Сохранение оригинального форматирования и структуры"},"noArticle":{"title":"Выберите статью","message":"Выберите статью из левой панели для просмотра содержимого"},"buttons":{"keyPoints":"Ключевые точки","quiz":"Викторина"},"hint":{"title":"Подсказка:","message":"Вы можете получить объяснение, выделив любой текст."},"modals":{"keyPointsTitle":"Ключевые точки","translationTitle":"Перевод"},"prompts":{"keyPointsPrefix":"Полный текст статьи следующий:","keyPointsInstructions":"Пожалуйста, извлеките ключевые точки из этой статьи на армянском языке. Представьте их в виде короткого, ясного списка точек. Начинайте каждую точку с новой строки."}},"validation":{"required":"Это поле обязательно","invalidEmail":"Неверный формат email","minLength":"Минимум {{count}} символов","maxLength":"Максимум {{count}} символов"}}')}};function sR(e){let{Component:t,pageProps:s}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(tS(),{children:[(0,f.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,f.jsx)("title",{children:"Brainograph AI Lab - VAF"})]}),(0,f.jsx)(tb,{children:(0,f.jsx)(y.D,{children:(0,f.jsx)(tv,{children:(0,f.jsx)(t,(0,x._)({},s))})})})]})}sl.use(sI).use({type:"3rdParty",init(e){_(e.options.react),Q(e)}}).init({resources:sO,lng:void 0,fallbackLng:["en","hy"],debug:!1,detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"selectedLanguage",lookupFromPathIndex:!1,lookupFromSubdomainIndex:!1},interpolation:{escapeValue:!1},keySeparator:".",nsSeparator:":",initImmediate:!1,missingKeyHandler:function(e,t,s,r){}}).then(()=>{let e=window.localStorage?localStorage.getItem("selectedLanguage"):null,t=sl.language,s=Object.keys(sO);if(e&&s.includes(e)&&e!==t)sl.changeLanguage(e);else if(!s.includes(t)){let e=t.split("-")[0],r=s.find(t=>t.startsWith(e));r?sl.changeLanguage(r):sl.changeLanguage("en")}}).catch(e=>{console.error("i18n initialization failed:",e)})}},e=>{var t=t=>e(e.s=t);e.O(0,[593,792],()=>(t(6556),t(8253))),_N_E=e.O()}]);